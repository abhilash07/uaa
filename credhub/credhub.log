2018-10-24T04:06:38.295Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 25993 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:06:38.303Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:06:38.447Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b97c004: startup date [Wed Oct 24 04:06:38 UTC 2018]; root of context hierarchy
2018-10-24T04:06:39.526Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:06:39.529Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:06:39.530Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:06:39.675Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:06:40.786Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fc1bb85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:06:41.619Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:06:41.640Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:06:41.657Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:06:41.658Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:06:41.675Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:06:41.788Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:06:41.789Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3345 ms
2018-10-24T04:06:42.208Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:06:42.427Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:06:42.428Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:06:42.428Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:06:42.428Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:06:42.428Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:06:42.428Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:06:42.428Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:06:42.429Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:06:42.730Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:06:42.741Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:06:42.996Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:06:43.005Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:06:43.318Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.091s)
2018-10-24T04:06:43.347Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:06:43.350Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:06:43.540Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:06:43.674Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:06:43.677Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:06:43.737Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:06:44.076Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:06:44.212Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:06:44.214Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@549621f3
2018-10-24T04:06:44.433Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:06:44.436Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:06:45.290Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:06:46.406Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:06:48.599Z [main] ....  INFO --- EncryptionKeyCanaryMapper: Creating a new active key canary
2018-10-24T04:06:49.028Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:06:49.032Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:06:49.033Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:06:49.049Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:06:49.051Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:06:49.070Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:06:49.072Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:06:59.499Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 26133 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:06:59.506Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:06:59.591Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c756e4d: startup date [Wed Oct 24 04:06:59 UTC 2018]; root of context hierarchy
2018-10-24T04:07:00.811Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:07:00.814Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:07:00.815Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:07:00.951Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:07:02.072Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a0447b25] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:07:02.891Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:07:02.912Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:07:02.929Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:07:02.930Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:07:02.947Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:07:03.065Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:07:03.066Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3477 ms
2018-10-24T04:07:03.517Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:07:03.716Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:07:03.716Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:07:03.716Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:07:03.716Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:07:03.717Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:07:03.717Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:07:03.717Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:07:03.717Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:07:03.952Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:07:03.964Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:07:04.074Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:07:04.084Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:07:04.195Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T04:07:04.221Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:07:04.223Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:07:04.407Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:07:04.560Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:07:04.562Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:07:04.626Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:07:04.996Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:07:05.141Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:07:05.142Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5db4c359
2018-10-24T04:07:05.355Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:07:05.358Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:07:06.063Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:07:07.139Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:07:09.605Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:07:09.608Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:07:09.609Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:07:09.623Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:07:09.626Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:07:09.654Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:07:09.656Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:07:20.514Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 26280 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:07:20.521Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:07:20.634Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1efbd816: startup date [Wed Oct 24 04:07:20 UTC 2018]; root of context hierarchy
2018-10-24T04:07:21.660Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:07:21.662Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:07:21.663Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:07:21.811Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:07:22.902Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$788ca378] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:07:23.729Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:07:23.751Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:07:23.768Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:07:23.769Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:07:23.785Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:07:23.881Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:07:23.881Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3250 ms
2018-10-24T04:07:24.306Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:07:24.558Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:07:24.558Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:07:24.558Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:07:24.558Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:07:24.559Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:07:24.559Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:07:24.559Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:07:24.559Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:07:24.790Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:07:24.801Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:07:24.904Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:07:24.913Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:07:25.019Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:07:25.044Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:07:25.044Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:07:25.226Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:07:25.353Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:07:25.355Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:07:25.415Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:07:25.765Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:07:25.904Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:07:25.905Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@47874b25
2018-10-24T04:07:26.124Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:07:26.127Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:07:26.826Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:07:27.920Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:07:30.489Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:07:30.493Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:07:30.494Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:07:30.502Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:07:30.505Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:07:30.522Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:07:30.524Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:07:41.614Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 26440 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:07:41.622Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:07:41.693Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@737996a0: startup date [Wed Oct 24 04:07:41 UTC 2018]; root of context hierarchy
2018-10-24T04:07:42.758Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:07:42.760Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:07:42.761Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:07:42.896Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:07:43.993Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc3e9ee1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:07:44.803Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:07:44.824Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:07:44.840Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:07:44.841Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:07:44.857Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:07:44.976Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:07:44.976Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3286 ms
2018-10-24T04:07:45.423Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:07:45.629Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:07:45.629Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:07:45.629Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:07:45.629Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:07:45.630Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:07:45.630Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:07:45.630Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:07:45.630Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:07:45.868Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:07:45.879Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:07:45.985Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:07:45.994Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:07:46.106Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.055s)
2018-10-24T04:07:46.129Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:07:46.133Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:07:46.311Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:07:46.445Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:07:46.448Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:07:46.508Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:07:46.835Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:07:46.954Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:07:46.956Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@403132fc
2018-10-24T04:07:47.177Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:07:47.181Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:07:47.883Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:07:48.967Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:07:51.363Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:07:51.366Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:07:51.367Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:07:51.420Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:07:51.423Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:07:51.442Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:07:51.444Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:08:02.816Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 26591 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:08:02.824Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:08:02.952Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59e84876: startup date [Wed Oct 24 04:08:02 UTC 2018]; root of context hierarchy
2018-10-24T04:08:03.990Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:08:03.992Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:08:03.993Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:08:04.128Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:08:05.214Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fd9121c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:08:06.031Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:08:06.051Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:08:06.067Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:08:06.068Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:08:06.085Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:08:06.188Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:08:06.188Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3239 ms
2018-10-24T04:08:06.644Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:08:06.864Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:08:06.865Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:08:06.865Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:08:06.865Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:08:06.865Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:08:06.865Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:08:06.866Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:08:06.866Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:08:07.112Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:08:07.123Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:08:07.229Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:08:07.239Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:08:07.361Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.060s)
2018-10-24T04:08:07.378Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:08:07.379Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:08:07.565Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:08:07.701Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:08:07.704Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:08:07.767Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:08:08.122Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:08:08.246Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:08:08.248Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a3e3e8b
2018-10-24T04:08:08.475Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:08:08.478Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:08:09.206Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:08:10.380Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:08:13.012Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:08:13.016Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:08:13.017Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:08:13.026Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:08:13.028Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:08:13.048Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:08:13.050Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:08:24.006Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 26741 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:08:24.014Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:08:24.146Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@153f5a29: startup date [Wed Oct 24 04:08:24 UTC 2018]; root of context hierarchy
2018-10-24T04:08:25.175Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:08:25.177Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:08:25.178Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:08:25.345Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:08:26.462Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e612e571] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:08:27.270Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:08:27.290Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:08:27.307Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:08:27.308Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:08:27.324Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:08:27.433Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:08:27.433Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3290 ms
2018-10-24T04:08:27.912Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:08:28.126Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:08:28.126Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:08:28.126Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:08:28.127Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:08:28.127Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:08:28.127Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:08:28.127Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:08:28.127Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:08:28.360Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:08:28.371Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:08:28.473Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:08:28.483Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:08:28.610Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.068s)
2018-10-24T04:08:28.626Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:08:28.627Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:08:28.812Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:08:28.942Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:08:28.944Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:08:29.007Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:08:29.358Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:08:29.497Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:08:29.498Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@314b8f2d
2018-10-24T04:08:29.724Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:08:29.727Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:08:30.445Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:08:31.582Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:08:34.265Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:08:34.270Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:08:34.271Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:08:34.280Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:08:34.282Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:08:34.308Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:08:34.310Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:08:45.143Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 26894 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:08:45.209Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:08:45.274Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@174d20a: startup date [Wed Oct 24 04:08:45 UTC 2018]; root of context hierarchy
2018-10-24T04:08:46.291Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:08:46.294Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:08:46.294Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:08:46.442Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:08:47.526Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2a0a87bd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:08:48.327Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:08:48.347Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:08:48.363Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:08:48.364Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:08:48.381Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:08:48.487Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:08:48.487Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3216 ms
2018-10-24T04:08:48.904Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:08:49.177Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:08:49.177Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:08:49.178Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:08:49.178Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:08:49.178Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:08:49.178Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:08:49.178Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:08:49.178Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:08:49.411Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:08:49.422Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:08:49.526Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:08:49.535Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:08:49.660Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.068s)
2018-10-24T04:08:49.683Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:08:49.685Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:08:49.856Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:08:49.984Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:08:49.987Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:08:50.047Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:08:50.387Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:08:50.517Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:08:50.518Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1fc0053e
2018-10-24T04:08:50.740Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:08:50.743Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:08:51.466Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:08:52.633Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:08:55.003Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:08:55.006Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:08:55.007Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:08:55.015Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:08:55.018Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:08:55.036Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:08:55.038Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:09:06.202Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 27040 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:09:06.209Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:09:06.330Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7f560810: startup date [Wed Oct 24 04:09:06 UTC 2018]; root of context hierarchy
2018-10-24T04:09:07.402Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:09:07.452Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:09:07.453Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:09:07.592Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:09:08.648Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6d7f6bb2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:09:09.457Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:09:09.483Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:09:09.510Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:09:09.511Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:09:09.528Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:09:09.625Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:09:09.625Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3298 ms
2018-10-24T04:09:10.044Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:09:10.250Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:09:10.251Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:09:10.251Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:09:10.251Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:09:10.251Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:09:10.251Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:09:10.252Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:09:10.252Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:09:10.493Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:09:10.503Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:09:10.617Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:09:10.627Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:09:10.743Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T04:09:10.762Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:09:10.763Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:09:10.929Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:09:11.052Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:09:11.054Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:09:11.112Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:09:11.455Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:09:11.595Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:09:11.597Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@664a9613
2018-10-24T04:09:11.817Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:09:11.820Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:09:12.539Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:09:13.634Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:09:16.028Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:09:16.032Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:09:16.032Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:09:16.042Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:09:16.044Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:09:16.062Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:09:16.064Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:09:27.285Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 27193 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:09:27.292Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:09:27.420Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5cc7c2a6: startup date [Wed Oct 24 04:09:27 UTC 2018]; root of context hierarchy
2018-10-24T04:09:28.431Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:09:28.433Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:09:28.434Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:09:28.574Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:09:29.668Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$566ccff9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:09:30.477Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:09:30.498Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:09:30.516Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:09:30.517Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:09:30.533Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:09:30.632Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:09:30.633Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3217 ms
2018-10-24T04:09:31.078Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:09:31.286Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:09:31.286Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:09:31.286Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:09:31.286Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:09:31.287Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:09:31.287Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:09:31.287Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:09:31.287Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:09:31.532Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:09:31.543Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:09:31.656Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:09:31.665Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:09:31.797Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.064s)
2018-10-24T04:09:31.814Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:09:31.815Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:09:31.992Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:09:32.118Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:09:32.120Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:09:32.179Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:09:32.510Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:09:32.642Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:09:32.643Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@332a7fce
2018-10-24T04:09:32.865Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:09:32.890Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:09:33.621Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:09:34.742Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:09:37.180Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:09:37.184Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:09:37.185Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:09:37.198Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:09:37.201Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:09:37.232Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:09:37.234Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:09:48.441Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 27345 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:09:48.449Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:09:48.578Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b97c004: startup date [Wed Oct 24 04:09:48 UTC 2018]; root of context hierarchy
2018-10-24T04:09:49.649Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:09:49.651Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:09:49.652Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:09:49.800Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:09:50.899Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6bf1747a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:09:51.699Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:09:51.719Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:09:51.736Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:09:51.737Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:09:51.753Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:09:51.855Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:09:51.855Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3280 ms
2018-10-24T04:09:52.285Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:09:52.606Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:09:52.607Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:09:52.607Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:09:52.607Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:09:52.607Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:09:52.607Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:09:52.607Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:09:52.608Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:09:52.838Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:09:52.849Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:09:52.953Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:09:52.962Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:09:53.093Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.072s)
2018-10-24T04:09:53.113Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:09:53.117Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:09:53.298Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:09:53.426Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:09:53.429Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:09:53.488Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:09:53.830Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:09:53.954Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:09:53.956Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@54361a9
2018-10-24T04:09:54.179Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:09:54.183Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:09:54.897Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:09:56.057Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:09:58.438Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:09:58.441Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:09:58.442Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:09:58.452Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:09:58.454Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:09:58.473Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:09:58.475Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:10:09.567Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 27496 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:10:09.575Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:10:09.705Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@234bef66: startup date [Wed Oct 24 04:10:09 UTC 2018]; root of context hierarchy
2018-10-24T04:10:10.883Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:10:10.885Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:10:10.885Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:10:11.025Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:10:12.075Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc3e9ee1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:10:12.877Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:10:12.898Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:10:12.914Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:10:12.915Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:10:12.932Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:10:13.047Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:10:13.047Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3349 ms
2018-10-24T04:10:13.475Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:10:13.697Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:10:13.697Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:10:13.698Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:10:13.698Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:10:13.698Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:10:13.698Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:10:13.698Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:10:13.698Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:10:13.928Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:10:13.939Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:10:14.052Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:10:14.062Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:10:14.202Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.074s)
2018-10-24T04:10:14.219Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:10:14.220Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:10:14.392Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:10:14.522Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:10:14.524Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:10:14.585Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:10:14.943Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:10:15.075Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:10:15.077Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@403132fc
2018-10-24T04:10:15.289Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:10:15.292Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:10:15.988Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:10:17.076Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:10:19.509Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:10:19.514Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:10:19.514Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:10:19.572Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:10:19.576Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:10:19.606Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:10:19.609Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:10:30.716Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 27649 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:10:30.723Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:10:30.858Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5cc7c2a6: startup date [Wed Oct 24 04:10:30 UTC 2018]; root of context hierarchy
2018-10-24T04:10:31.903Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:10:31.905Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:10:31.906Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:10:32.041Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:10:33.123Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$566ccff9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:10:33.977Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:10:33.997Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:10:34.013Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:10:34.014Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:10:34.031Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:10:34.146Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:10:34.146Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3291 ms
2018-10-24T04:10:34.618Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:10:34.888Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:10:34.888Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:10:34.889Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:10:34.889Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:10:34.889Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:10:34.889Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:10:34.890Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:10:34.890Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:10:35.161Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:10:35.172Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:10:35.275Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:10:35.284Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:10:35.407Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.064s)
2018-10-24T04:10:35.430Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:10:35.430Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:10:35.599Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:10:35.725Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:10:35.727Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:10:35.786Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:10:36.120Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:10:36.257Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:10:36.259Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@332a7fce
2018-10-24T04:10:36.475Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:10:36.478Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:10:37.189Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:10:38.281Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:10:40.714Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:10:40.719Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:10:40.719Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:10:40.731Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:10:40.733Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:10:40.750Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:10:40.752Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:10:51.921Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 27795 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:10:51.929Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:10:52.058Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@97e1986: startup date [Wed Oct 24 04:10:52 UTC 2018]; root of context hierarchy
2018-10-24T04:10:53.142Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:10:53.144Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:10:53.145Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:10:53.289Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:10:54.369Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c8e8b90a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:10:55.174Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:10:55.195Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:10:55.213Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:10:55.214Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:10:55.230Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:10:55.334Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:10:55.334Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3279 ms
2018-10-24T04:10:55.762Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:10:55.994Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:10:55.995Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:10:55.995Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:10:55.995Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:10:55.995Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:10:55.995Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:10:55.996Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:10:55.996Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:10:56.260Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:10:56.271Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:10:56.378Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:10:56.387Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:10:56.498Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T04:10:56.521Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:10:56.522Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:10:56.703Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:10:56.837Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:10:56.840Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:10:56.903Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:10:57.271Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:10:57.410Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:10:57.412Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3a1d593e
2018-10-24T04:10:57.633Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:10:57.636Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:10:58.356Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:10:59.480Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:11:01.991Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:11:01.996Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:11:01.997Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:11:02.010Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:11:02.012Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:11:02.030Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:11:02.032Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:11:13.010Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 27945 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:11:13.017Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:11:13.167Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61a485d2: startup date [Wed Oct 24 04:11:13 UTC 2018]; root of context hierarchy
2018-10-24T04:11:14.322Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:11:14.325Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:11:14.326Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:11:14.475Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:11:15.585Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$24a377ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:11:16.392Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:11:16.412Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:11:16.428Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:11:16.429Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:11:16.446Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:11:16.568Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:11:16.569Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3405 ms
2018-10-24T04:11:16.994Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:11:17.203Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:11:17.203Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:11:17.203Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:11:17.203Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:11:17.204Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:11:17.204Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:11:17.204Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:11:17.204Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:11:17.458Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:11:17.469Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:11:17.577Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:11:17.586Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:11:17.704Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T04:11:17.734Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:11:17.735Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:11:17.909Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:11:18.044Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:11:18.047Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:11:18.113Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:11:18.462Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:11:18.585Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:11:18.587Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5af28b27
2018-10-24T04:11:18.800Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:11:18.803Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:11:19.520Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:11:20.624Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:11:23.026Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:11:23.029Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:11:23.030Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:11:23.066Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:11:23.069Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:11:23.087Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:11:23.089Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:11:34.102Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 28098 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:11:34.110Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:11:34.179Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3551a94: startup date [Wed Oct 24 04:11:34 UTC 2018]; root of context hierarchy
2018-10-24T04:11:35.369Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:11:35.371Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:11:35.372Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:11:35.507Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:11:36.600Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$296c74a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:11:37.490Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:11:37.511Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:11:37.531Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:11:37.532Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:11:37.554Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:11:37.653Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:11:37.653Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3477 ms
2018-10-24T04:11:38.109Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:11:38.313Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:11:38.314Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:11:38.314Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:11:38.314Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:11:38.314Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:11:38.314Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:11:38.315Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:11:38.315Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:11:38.546Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:11:38.556Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:11:38.671Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:11:38.680Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:11:38.803Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.061s)
2018-10-24T04:11:38.821Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:11:38.822Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:11:38.993Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:11:39.124Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:11:39.126Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:11:39.184Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:11:39.525Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:11:39.659Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:11:39.661Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@9d157ff
2018-10-24T04:11:39.871Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:11:39.875Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:11:40.578Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:11:41.699Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:11:44.118Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:11:44.122Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:11:44.123Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:11:44.133Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:11:44.136Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:11:44.160Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:11:44.162Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:11:55.359Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 28248 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:11:55.367Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:11:55.447Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@458ad742: startup date [Wed Oct 24 04:11:55 UTC 2018]; root of context hierarchy
2018-10-24T04:11:56.659Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:11:56.661Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:11:56.662Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:11:56.809Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:11:57.912Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$37d57735] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:11:58.714Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:11:58.734Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:11:58.760Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:11:58.761Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:11:58.782Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:11:58.882Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:11:58.882Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3438 ms
2018-10-24T04:11:59.309Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:11:59.519Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:11:59.519Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:11:59.519Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:11:59.519Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:11:59.520Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:11:59.520Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:11:59.520Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:11:59.520Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:11:59.749Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:11:59.760Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:11:59.869Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:11:59.878Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:11:59.990Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:12:00.008Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:12:00.008Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:12:00.185Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:12:00.315Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:12:00.317Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:12:00.376Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:12:00.711Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:12:00.841Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:12:00.843Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6fa590ba
2018-10-24T04:12:01.055Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:12:01.059Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:12:01.765Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:12:02.887Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:12:05.463Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:12:05.466Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:12:05.467Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:12:05.477Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:12:05.480Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:12:05.499Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:12:05.501Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:12:16.459Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 28399 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:12:16.493Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:12:16.607Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@337d0578: startup date [Wed Oct 24 04:12:16 UTC 2018]; root of context hierarchy
2018-10-24T04:12:17.654Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:12:17.656Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:12:17.657Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:12:17.799Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:12:18.919Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$46d90ddb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:12:19.754Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:12:19.774Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:12:19.791Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:12:19.792Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:12:19.809Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:12:19.913Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:12:19.913Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3309 ms
2018-10-24T04:12:20.355Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:12:20.565Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:12:20.565Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:12:20.565Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:12:20.565Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:12:20.566Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:12:20.566Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:12:20.566Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:12:20.566Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:12:20.802Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:12:20.812Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:12:20.928Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:12:20.937Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:12:21.090Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.093s)
2018-10-24T04:12:21.111Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:12:21.112Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:12:21.286Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:12:21.415Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:12:21.417Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:12:21.477Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:12:21.811Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:12:21.929Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:12:21.931Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7876d598
2018-10-24T04:12:22.148Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:12:22.151Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:12:22.866Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:12:23.953Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:12:26.524Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:12:26.527Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:12:26.528Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:12:26.541Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:12:26.545Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:12:26.565Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:12:26.567Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:12:37.541Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 28558 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:12:37.549Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:12:37.671Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61dc03ce: startup date [Wed Oct 24 04:12:37 UTC 2018]; root of context hierarchy
2018-10-24T04:12:38.759Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:12:38.761Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:12:38.762Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:12:38.889Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:12:39.992Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1e6de751] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:12:40.769Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:12:40.789Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:12:40.806Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:12:40.807Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:12:40.825Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:12:40.956Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:12:40.956Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3289 ms
2018-10-24T04:12:41.390Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:12:41.599Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:12:41.599Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:12:41.599Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:12:41.599Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:12:41.600Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:12:41.600Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:12:41.600Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:12:41.600Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:12:41.834Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:12:41.845Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:12:41.950Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:12:41.959Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:12:42.081Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.061s)
2018-10-24T04:12:42.101Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:12:42.104Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:12:42.271Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:12:42.398Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:12:42.400Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:12:42.459Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:12:42.798Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:12:42.941Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:12:42.943Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2cab9998
2018-10-24T04:12:43.166Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:12:43.169Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:12:43.873Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:12:44.972Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:12:47.389Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:12:47.392Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:12:47.393Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:12:47.408Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:12:47.410Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:12:47.429Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:12:47.430Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:12:58.623Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 28708 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:12:58.630Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:12:58.800Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@39fb3ab6: startup date [Wed Oct 24 04:12:58 UTC 2018]; root of context hierarchy
2018-10-24T04:12:59.915Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:12:59.917Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:12:59.918Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:13:00.056Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:13:01.136Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3ad78d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:13:01.917Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:13:01.938Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:13:01.954Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:13:01.955Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:13:01.971Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:13:02.078Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:13:02.079Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3282 ms
2018-10-24T04:13:02.501Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:13:02.715Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:13:02.716Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:13:02.716Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:13:02.716Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:13:02.717Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:13:02.717Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:13:02.717Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:13:02.717Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:13:02.965Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:13:02.976Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:13:03.083Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:13:03.092Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:13:03.203Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T04:13:03.228Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:13:03.228Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:13:03.431Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:13:03.571Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:13:03.574Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:13:03.634Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:13:03.971Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:13:04.095Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:13:04.097Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4985cbcb
2018-10-24T04:13:04.314Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:13:04.317Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:13:05.081Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:13:06.199Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:13:08.892Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:13:08.896Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:13:08.896Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:13:08.908Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:13:08.912Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:13:08.931Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:13:08.934Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:13:19.817Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 28859 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:13:19.824Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:13:19.903Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@39fb3ab6: startup date [Wed Oct 24 04:13:19 UTC 2018]; root of context hierarchy
2018-10-24T04:13:21.204Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:13:21.206Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:13:21.207Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:13:21.337Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:13:22.409Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3ad78d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:13:23.164Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:13:23.185Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:13:23.202Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:13:23.204Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:13:23.219Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:13:23.340Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:13:23.340Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3443 ms
2018-10-24T04:13:23.784Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:13:23.988Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:13:23.989Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:13:23.989Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:13:23.989Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:13:23.989Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:13:23.990Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:13:23.990Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:13:23.990Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:13:24.216Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:13:24.226Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:13:24.326Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:13:24.335Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:13:24.455Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.063s)
2018-10-24T04:13:24.480Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:13:24.480Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:13:24.660Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:13:24.786Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:13:24.788Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:13:24.847Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:13:25.175Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:13:25.316Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:13:25.317Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4985cbcb
2018-10-24T04:13:25.544Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:13:25.551Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:13:26.264Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:13:27.332Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:13:29.998Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:13:30.001Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:13:30.002Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:13:30.011Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:13:30.014Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:13:30.038Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:13:30.040Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:13:40.964Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 29011 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:13:40.973Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:13:41.108Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5cc7c2a6: startup date [Wed Oct 24 04:13:41 UTC 2018]; root of context hierarchy
2018-10-24T04:13:42.218Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:13:42.220Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:13:42.221Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:13:42.359Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:13:43.421Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$566ccff9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:13:44.230Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:13:44.249Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:13:44.266Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:13:44.267Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:13:44.283Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:13:44.385Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:13:44.386Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3281 ms
2018-10-24T04:13:44.803Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:13:45.010Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:13:45.010Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:13:45.010Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:13:45.010Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:13:45.011Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:13:45.011Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:13:45.011Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:13:45.011Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:13:45.241Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:13:45.253Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:13:45.362Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:13:45.371Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:13:45.505Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.070s)
2018-10-24T04:13:45.524Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:13:45.527Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:13:45.704Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:13:45.837Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:13:45.839Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:13:45.900Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:13:46.236Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:13:46.358Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:13:46.360Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@332a7fce
2018-10-24T04:13:46.581Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:13:46.584Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:13:47.304Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:13:48.361Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:13:50.890Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:13:50.893Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:13:50.894Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:13:50.903Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:13:50.905Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:13:50.936Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:13:50.938Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:14:02.029Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 29159 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:14:02.037Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:14:02.184Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@69d9c55: startup date [Wed Oct 24 04:14:02 UTC 2018]; root of context hierarchy
2018-10-24T04:14:03.222Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:14:03.325Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:14:03.326Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:14:03.477Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:14:04.575Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e612e571] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:14:05.390Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:14:05.410Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:14:05.428Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:14:05.429Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:14:05.446Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:14:05.553Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:14:05.553Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3372 ms
2018-10-24T04:14:05.984Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:14:06.192Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:14:06.193Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:14:06.193Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:14:06.193Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:14:06.193Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:14:06.194Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:14:06.194Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:14:06.194Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:14:06.467Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:14:06.478Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:14:06.583Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:14:06.592Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:14:06.698Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.047s)
2018-10-24T04:14:06.717Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:14:06.718Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:14:06.890Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:14:07.019Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:14:07.022Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:14:07.082Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:14:07.434Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:14:07.558Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:14:07.560Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5118388b
2018-10-24T04:14:07.782Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:14:07.786Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:14:08.512Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:14:09.632Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:14:12.009Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:14:12.014Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:14:12.014Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:14:12.022Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:14:12.024Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:14:12.044Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:14:12.046Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:14:23.181Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 29309 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:14:23.188Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:14:23.268Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2cb4c3ab: startup date [Wed Oct 24 04:14:23 UTC 2018]; root of context hierarchy
2018-10-24T04:14:24.475Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:14:24.488Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:14:24.489Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:14:24.620Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:14:25.652Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$75873e5b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:14:26.466Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:14:26.485Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:14:26.502Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:14:26.503Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:14:26.523Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:14:26.634Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:14:26.634Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3369 ms
2018-10-24T04:14:27.058Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:14:27.264Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:14:27.265Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:14:27.265Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:14:27.265Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:14:27.266Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:14:27.266Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:14:27.266Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:14:27.266Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:14:27.514Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:14:27.525Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:14:27.639Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:14:27.648Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:14:27.759Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T04:14:27.776Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:14:27.776Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:14:27.950Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:14:28.082Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:14:28.084Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:14:28.144Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:14:28.489Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:14:28.627Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:14:28.629Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2cab9998
2018-10-24T04:14:28.841Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:14:28.844Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:14:29.549Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:14:30.653Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:14:33.192Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:14:33.196Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:14:33.197Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:14:33.236Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:14:33.239Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:14:33.269Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:14:33.272Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:14:44.313Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 29461 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:14:44.322Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:14:44.437Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a024a67: startup date [Wed Oct 24 04:14:44 UTC 2018]; root of context hierarchy
2018-10-24T04:14:45.586Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:14:45.589Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:14:45.589Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:14:45.737Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:14:46.813Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64fa44bc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:14:47.574Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:14:47.595Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:14:47.612Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:14:47.613Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:14:47.631Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:14:47.742Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:14:47.743Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3310 ms
2018-10-24T04:14:48.165Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:14:48.401Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:14:48.402Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:14:48.402Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:14:48.402Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:14:48.402Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:14:48.403Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:14:48.403Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:14:48.403Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:14:48.703Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:14:48.715Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:14:48.827Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:14:48.837Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:14:48.961Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.063s)
2018-10-24T04:14:48.990Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:14:48.991Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:14:49.167Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:14:49.292Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:14:49.295Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:14:49.353Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:14:49.702Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:14:49.827Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:14:49.829Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7bf9b098
2018-10-24T04:14:50.052Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:14:50.056Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:14:50.789Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:14:51.964Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:14:54.599Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:14:54.603Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:14:54.604Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:14:54.616Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:14:54.619Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:14:54.638Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:14:54.640Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:15:05.470Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 29625 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:15:05.478Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:15:05.598Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59e84876: startup date [Wed Oct 24 04:15:05 UTC 2018]; root of context hierarchy
2018-10-24T04:15:06.678Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:15:06.680Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:15:06.681Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:15:06.813Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:15:07.906Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fd9121c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:15:08.676Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:15:08.696Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:15:08.712Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:15:08.713Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:15:08.730Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:15:08.840Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:15:08.841Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3250 ms
2018-10-24T04:15:09.257Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:15:09.479Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:15:09.480Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:15:09.480Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:15:09.480Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:15:09.480Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:15:09.481Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:15:09.481Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:15:09.481Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:15:09.703Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:15:09.714Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:15:09.819Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:15:09.834Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:15:09.955Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.057s)
2018-10-24T04:15:09.984Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:15:09.985Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:15:10.160Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:15:10.290Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:15:10.292Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:15:10.351Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:15:10.689Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:15:10.830Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:15:10.831Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a3e3e8b
2018-10-24T04:15:11.044Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:15:11.047Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:15:11.735Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:15:12.823Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:15:15.376Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:15:15.379Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:15:15.380Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:15:15.409Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:15:15.411Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:15:15.431Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:15:15.433Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:15:26.528Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 29778 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:15:26.536Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:15:26.616Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b97c004: startup date [Wed Oct 24 04:15:26 UTC 2018]; root of context hierarchy
2018-10-24T04:15:27.850Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:15:27.852Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:15:27.853Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:15:27.981Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:15:29.015Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c775000] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:15:29.805Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:15:29.824Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:15:29.842Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:15:29.843Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:15:29.858Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:15:29.973Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:15:29.973Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3360 ms
2018-10-24T04:15:30.392Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:15:30.596Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:15:30.596Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:15:30.596Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:15:30.597Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:15:30.597Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:15:30.597Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:15:30.597Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:15:30.597Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:15:30.843Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:15:30.854Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:15:30.964Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:15:30.974Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:15:31.086Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:15:31.115Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:15:31.116Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:15:31.289Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:15:31.421Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:15:31.424Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:15:31.485Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:15:31.842Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:15:31.974Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:15:31.975Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@549621f3
2018-10-24T04:15:32.186Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:15:32.189Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:15:32.881Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:15:33.992Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:15:36.815Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:15:36.819Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:15:36.820Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:15:36.832Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:15:36.835Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:15:36.852Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:15:36.855Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:15:47.650Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 29925 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:15:47.657Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:15:47.797Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@458ad742: startup date [Wed Oct 24 04:15:47 UTC 2018]; root of context hierarchy
2018-10-24T04:15:48.858Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:15:48.860Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:15:48.860Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:15:49.023Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:15:50.120Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea2451b7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:15:50.903Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:15:50.923Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:15:50.940Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:15:50.941Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:15:50.967Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:15:51.070Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:15:51.070Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3277 ms
2018-10-24T04:15:51.481Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:15:51.699Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:15:51.700Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:15:51.700Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:15:51.700Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:15:51.700Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:15:51.700Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:15:51.700Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:15:51.701Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:15:51.940Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:15:51.950Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:15:52.065Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:15:52.075Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:15:52.187Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T04:15:52.205Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:15:52.205Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:15:52.382Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:15:52.510Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:15:52.513Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:15:52.575Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:15:52.920Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:15:53.046Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:15:53.048Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6fa590ba
2018-10-24T04:15:53.263Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:15:53.267Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:15:53.968Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:15:55.102Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:15:57.539Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:15:57.542Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:15:57.543Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:15:57.555Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:15:57.559Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:15:57.581Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:15:57.584Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:16:08.795Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30075 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:16:08.803Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:16:08.910Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2c9f9fb0: startup date [Wed Oct 24 04:16:08 UTC 2018]; root of context hierarchy
2018-10-24T04:16:09.926Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:16:09.928Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:16:09.928Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:16:10.071Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:16:11.183Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ec67270c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:16:12.001Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:16:12.023Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:16:12.046Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:16:12.047Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:16:12.063Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:16:12.197Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:16:12.197Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3290 ms
2018-10-24T04:16:12.627Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:16:12.830Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:16:12.831Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:16:12.831Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:16:12.831Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:16:12.831Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:16:12.831Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:16:12.832Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:16:12.832Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:16:13.054Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:16:13.065Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:16:13.177Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:16:13.187Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:16:13.307Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.058s)
2018-10-24T04:16:13.336Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:16:13.337Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:16:13.506Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:16:13.632Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:16:13.634Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:16:13.691Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:16:14.053Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:16:14.181Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:16:14.182Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7c041b41
2018-10-24T04:16:14.403Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:16:14.406Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:16:15.120Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:16:16.228Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:16:18.691Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:16:18.695Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:16:18.696Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:16:18.706Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:16:18.711Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:16:18.739Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:16:18.743Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:16:29.949Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30227 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:16:29.957Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:16:30.085Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@32e6e9c3: startup date [Wed Oct 24 04:16:30 UTC 2018]; root of context hierarchy
2018-10-24T04:16:31.216Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:16:31.218Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:16:31.218Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:16:31.360Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:16:32.428Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c775000] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:16:33.277Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:16:33.298Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:16:33.316Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:16:33.317Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:16:33.333Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:16:33.434Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:16:33.434Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3352 ms
2018-10-24T04:16:33.876Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:16:34.089Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:16:34.090Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:16:34.090Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:16:34.090Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:16:34.090Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:16:34.091Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:16:34.091Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:16:34.091Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:16:34.330Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:16:34.341Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:16:34.447Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:16:34.457Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:16:34.616Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.097s)
2018-10-24T04:16:34.641Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:16:34.643Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:16:34.823Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:16:34.958Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:16:34.960Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:16:35.019Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:16:35.366Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:16:35.502Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:16:35.504Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@32232e55
2018-10-24T04:16:35.733Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:16:35.740Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:16:36.482Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:16:37.627Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:16:40.163Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:16:40.167Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:16:40.168Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:16:40.212Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:16:40.214Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:16:40.233Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:16:40.235Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:16:51.159Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30374 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:16:51.167Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:16:51.290Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6ea12c19: startup date [Wed Oct 24 04:16:51 UTC 2018]; root of context hierarchy
2018-10-24T04:16:52.360Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:16:52.361Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:16:52.362Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:16:52.505Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:16:53.575Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea2451b7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:16:54.481Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:16:54.501Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:16:54.519Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:16:54.520Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:16:54.536Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:16:54.636Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:16:54.636Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3349 ms
2018-10-24T04:16:55.087Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:16:55.315Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:16:55.315Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:16:55.315Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:16:55.315Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:16:55.316Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:16:55.316Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:16:55.316Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:16:55.316Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:16:55.560Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:16:55.571Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:16:55.679Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:16:55.689Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:16:55.799Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:16:55.820Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:16:55.821Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:16:55.997Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:16:56.137Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:16:56.140Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:16:56.200Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:16:56.545Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:16:56.676Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:16:56.678Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@72e34f77
2018-10-24T04:16:56.897Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:16:56.901Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:16:57.621Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:16:58.727Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:17:01.146Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:17:01.150Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:17:01.151Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:17:01.219Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:17:01.222Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:17:01.242Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:17:01.244Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:17:12.252Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30443 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:17:12.261Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:17:12.390Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@458ad742: startup date [Wed Oct 24 04:17:12 UTC 2018]; root of context hierarchy
2018-10-24T04:17:13.432Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:17:13.434Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:17:13.435Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:17:13.570Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:17:14.660Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea2451b7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:17:15.506Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:17:15.527Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:17:15.543Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:17:15.544Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:17:15.561Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:17:15.672Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:17:15.672Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3285 ms
2018-10-24T04:17:16.115Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:17:16.315Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:17:16.316Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:17:16.316Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:17:16.316Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:17:16.316Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:17:16.316Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:17:16.317Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:17:16.317Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:17:16.545Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:17:16.555Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:17:16.659Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:17:16.668Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:17:16.769Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.046s)
2018-10-24T04:17:16.790Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:17:16.792Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:17:16.970Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:17:17.094Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:17:17.096Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:17:17.154Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:17:17.524Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:17:17.706Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:17:17.709Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6fa590ba
2018-10-24T04:17:17.926Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:17:17.929Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:17:18.630Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:17:19.727Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:17:22.350Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:17:22.355Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:17:22.356Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:17:22.368Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:17:22.372Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:17:22.397Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:17:22.399Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:17:33.357Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30513 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:17:33.365Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:17:33.492Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@337d0578: startup date [Wed Oct 24 04:17:33 UTC 2018]; root of context hierarchy
2018-10-24T04:17:34.632Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:17:34.634Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:17:34.635Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:17:34.780Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:17:35.886Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc4702ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:17:36.676Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:17:36.716Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:17:36.732Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:17:36.734Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:17:36.749Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:17:36.849Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:17:36.850Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3360 ms
2018-10-24T04:17:37.307Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:17:37.632Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:17:37.632Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:17:37.632Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:17:37.632Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:17:37.633Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:17:37.633Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:17:37.633Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:17:37.633Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:17:37.939Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:17:37.954Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:17:38.076Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:17:38.089Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:17:38.224Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.071s)
2018-10-24T04:17:38.250Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:17:38.251Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:17:38.426Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:17:38.555Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:17:38.557Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:17:38.616Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:17:38.949Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:17:39.065Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:17:39.066Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7876d598
2018-10-24T04:17:39.280Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:17:39.283Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:17:39.986Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:17:41.091Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:17:43.847Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:17:43.851Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:17:43.851Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:17:43.887Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:17:43.890Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:17:43.909Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:17:43.911Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:17:54.599Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30579 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:17:54.606Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:17:54.703Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6ea12c19: startup date [Wed Oct 24 04:17:54 UTC 2018]; root of context hierarchy
2018-10-24T04:17:55.887Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:17:55.889Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:17:55.890Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:17:56.023Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:17:57.089Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64fa44bc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:17:57.898Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:17:57.918Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:17:57.935Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:17:57.936Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:17:57.951Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:17:58.052Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:17:58.052Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3352 ms
2018-10-24T04:17:58.462Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:17:58.665Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:17:58.666Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:17:58.666Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:17:58.666Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:17:58.666Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:17:58.667Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:17:58.667Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:17:58.667Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:17:58.891Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:17:58.902Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:17:59.004Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:17:59.013Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:17:59.122Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T04:17:59.142Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:17:59.142Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:17:59.315Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:17:59.443Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:17:59.445Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:17:59.505Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:17:59.849Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:17:59.969Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:17:59.971Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7bf9b098
2018-10-24T04:18:00.189Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:18:00.192Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:18:00.896Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:18:01.982Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:18:04.355Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:18:04.359Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:18:04.360Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:18:04.367Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:18:04.369Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:18:04.387Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:18:04.389Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:18:15.595Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30646 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:18:15.603Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:18:15.688Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2344fc66: startup date [Wed Oct 24 04:18:15 UTC 2018]; root of context hierarchy
2018-10-24T04:18:16.868Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:18:16.870Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:18:16.871Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:18:16.999Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:18:18.004Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$37d57735] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:18:18.738Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:18:18.757Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:18:18.776Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:18:18.777Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:18:18.794Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:18:18.904Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:18:18.905Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3224 ms
2018-10-24T04:18:19.403Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:18:19.608Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:18:19.608Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:18:19.609Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:18:19.609Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:18:19.609Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:18:19.609Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:18:19.609Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:18:19.610Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:18:19.832Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:18:19.842Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:18:19.944Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:18:19.953Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:18:20.060Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:18:20.087Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:18:20.089Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:18:20.265Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:18:20.393Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:18:20.396Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:18:20.457Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:18:20.804Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:18:20.928Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:18:20.930Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6fa590ba
2018-10-24T04:18:21.155Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:18:21.158Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:18:21.870Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:18:22.951Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:18:25.415Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:18:25.418Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:18:25.419Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:18:25.441Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:18:25.443Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:18:25.462Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:18:25.466Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:18:36.800Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30714 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:18:36.810Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:18:36.888Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7c0e2abd: startup date [Wed Oct 24 04:18:36 UTC 2018]; root of context hierarchy
2018-10-24T04:18:38.058Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:18:38.060Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:18:38.061Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:18:38.208Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:18:39.279Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6868888a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:18:40.105Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:18:40.125Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:18:40.142Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:18:40.143Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:18:40.159Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:18:40.275Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:18:40.275Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3390 ms
2018-10-24T04:18:40.717Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:18:41.094Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:18:41.095Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:18:41.095Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:18:41.095Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:18:41.095Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:18:41.096Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:18:41.096Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:18:41.096Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:18:41.480Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:18:41.493Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:18:41.607Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:18:41.617Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:18:41.737Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.061s)
2018-10-24T04:18:41.757Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:18:41.758Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:18:41.928Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:18:42.055Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:18:42.057Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:18:42.114Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:18:42.477Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:18:42.612Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:18:42.614Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@209775a9
2018-10-24T04:18:42.826Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:18:42.829Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:18:43.548Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:18:44.666Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:18:47.137Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:18:47.140Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:18:47.163Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:18:47.175Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:18:47.177Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:18:47.202Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:18:47.204Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:18:57.921Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30780 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:18:57.929Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:18:58.055Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5056dfcb: startup date [Wed Oct 24 04:18:58 UTC 2018]; root of context hierarchy
2018-10-24T04:18:59.140Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:18:59.142Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:18:59.143Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:18:59.283Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:19:00.350Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6bf1747a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:19:01.135Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:19:01.154Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:19:01.171Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:19:01.172Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:19:01.186Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:19:01.285Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:19:01.286Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3234 ms
2018-10-24T04:19:01.697Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:19:01.909Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:19:01.910Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:19:01.910Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:19:01.910Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:19:01.910Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:19:01.910Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:19:01.910Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:19:01.911Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:19:02.136Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:19:02.147Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:19:02.253Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:19:02.262Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:19:02.371Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:19:02.396Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:19:02.397Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:19:02.569Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:19:02.694Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:19:02.697Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:19:02.754Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:19:03.096Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:19:03.223Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:19:03.224Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@54361a9
2018-10-24T04:19:03.440Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:19:03.444Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:19:04.155Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:19:05.287Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:19:07.692Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:19:07.696Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:19:07.697Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:19:07.711Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:19:07.713Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:19:07.731Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:19:07.733Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:19:18.985Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30847 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:19:18.993Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:19:19.109Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3dd3bcd: startup date [Wed Oct 24 04:19:19 UTC 2018]; root of context hierarchy
2018-10-24T04:19:20.139Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:19:20.141Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:19:20.142Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:19:20.278Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:19:21.378Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9cee548b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:19:22.176Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:19:22.197Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:19:22.213Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:19:22.214Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:19:22.230Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:19:22.325Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:19:22.326Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3221 ms
2018-10-24T04:19:22.742Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:19:22.965Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:19:22.965Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:19:22.965Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:19:22.965Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:19:22.966Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:19:22.966Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:19:22.966Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:19:22.966Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:19:23.189Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:19:23.200Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:19:23.300Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:19:23.309Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:19:23.414Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T04:19:23.435Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:19:23.436Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:19:23.620Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:19:23.755Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:19:23.758Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:19:23.821Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:19:24.168Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:19:24.290Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:19:24.292Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a8a60bc
2018-10-24T04:19:24.524Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:19:24.531Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:19:25.273Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:19:26.383Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:19:28.869Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:19:28.874Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:19:28.875Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:19:28.887Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:19:28.889Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:19:28.907Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:19:28.909Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:19:40.128Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30915 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:19:40.136Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:19:40.204Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2cb4c3ab: startup date [Wed Oct 24 04:19:40 UTC 2018]; root of context hierarchy
2018-10-24T04:19:41.354Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:19:41.356Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:19:41.357Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:19:41.496Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:19:42.569Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8a4a1b20] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:19:43.382Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:19:43.402Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:19:43.420Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:19:43.421Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:19:43.438Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:19:43.556Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:19:43.557Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3355 ms
2018-10-24T04:19:43.963Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:19:44.177Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:19:44.178Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:19:44.178Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:19:44.178Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:19:44.179Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:19:44.179Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:19:44.179Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:19:44.179Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:19:44.404Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:19:44.414Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:19:44.519Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:19:44.528Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:19:44.640Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T04:19:44.661Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:19:44.661Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:19:44.836Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:19:44.964Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:19:44.967Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:19:45.025Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:19:45.367Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:19:45.495Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:19:45.497Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2f7a7219
2018-10-24T04:19:45.733Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:19:45.740Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:19:46.481Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:19:47.594Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:19:50.106Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:19:50.109Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:19:50.110Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:19:50.149Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:19:50.151Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:19:50.169Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:19:50.171Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:20:01.333Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 30982 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:20:01.341Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:20:01.459Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@50f8360d: startup date [Wed Oct 24 04:20:01 UTC 2018]; root of context hierarchy
2018-10-24T04:20:02.460Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:20:02.462Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:20:02.462Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:20:02.599Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:20:03.674Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8a4a1b20] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:20:04.455Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:20:04.479Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:20:04.503Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:20:04.505Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:20:04.521Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:20:04.622Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:20:04.622Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3166 ms
2018-10-24T04:20:05.071Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:20:05.274Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:20:05.274Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:20:05.274Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:20:05.274Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:20:05.275Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:20:05.275Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:20:05.275Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:20:05.275Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:20:05.505Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:20:05.515Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:20:05.620Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:20:05.629Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:20:05.742Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T04:20:05.763Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:20:05.763Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:20:05.933Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:20:06.061Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:20:06.063Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:20:06.123Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:20:06.467Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:20:06.588Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:20:06.589Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@71c5b236
2018-10-24T04:20:06.803Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:20:06.806Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:20:07.510Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:20:08.631Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:20:11.129Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:20:11.132Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:20:11.133Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:20:11.143Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:20:11.145Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:20:11.172Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:20:11.174Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:20:22.397Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31049 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:20:22.406Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:20:22.542Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@13a57a3b: startup date [Wed Oct 24 04:20:22 UTC 2018]; root of context hierarchy
2018-10-24T04:20:23.655Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:20:23.657Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:20:23.658Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:20:23.802Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:20:24.874Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e612e571] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:20:25.656Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:20:25.676Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:20:25.693Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:20:25.694Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:20:25.710Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:20:25.827Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:20:25.827Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3288 ms
2018-10-24T04:20:26.278Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:20:26.621Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:20:26.622Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:20:26.622Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:20:26.622Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:20:26.622Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:20:26.622Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:20:26.623Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:20:26.623Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:20:26.986Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:20:26.997Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:20:27.106Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:20:27.119Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:20:27.250Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.067s)
2018-10-24T04:20:27.266Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:20:27.267Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:20:27.440Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:20:27.567Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:20:27.569Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:20:27.629Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:20:27.972Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:20:28.100Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:20:28.101Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5118388b
2018-10-24T04:20:28.327Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:20:28.333Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:20:29.051Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:20:30.100Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:20:32.702Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:20:32.706Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:20:32.718Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:20:32.741Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:20:32.744Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:20:32.762Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:20:32.764Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:20:43.560Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31119 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:20:43.569Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:20:43.703Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5afa04c: startup date [Wed Oct 24 04:20:43 UTC 2018]; root of context hierarchy
2018-10-24T04:20:44.724Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:20:44.727Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:20:44.727Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:20:44.884Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:20:45.976Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64fa44bc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:20:46.789Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:20:46.809Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:20:46.826Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:20:46.827Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:20:46.843Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:20:46.949Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:20:46.949Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3249 ms
2018-10-24T04:20:47.359Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:20:47.560Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:20:47.561Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:20:47.561Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:20:47.561Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:20:47.561Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:20:47.561Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:20:47.562Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:20:47.562Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:20:47.792Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:20:47.803Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:20:47.906Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:20:47.915Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:20:48.025Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T04:20:48.045Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:20:48.046Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:20:48.219Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:20:48.347Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:20:48.349Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:20:48.412Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:20:48.759Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:20:48.890Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:20:48.891Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6e9319f
2018-10-24T04:20:49.108Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:20:49.111Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:20:49.848Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:20:50.966Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:20:53.364Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:20:53.368Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:20:53.369Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:20:53.378Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:20:53.380Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:20:53.398Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:20:53.400Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:21:04.682Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31186 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:21:04.689Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:21:04.799Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5afa04c: startup date [Wed Oct 24 04:21:04 UTC 2018]; root of context hierarchy
2018-10-24T04:21:05.815Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:21:05.817Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:21:05.818Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:21:05.960Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:21:06.991Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64fa44bc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:21:07.779Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:21:07.799Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:21:07.816Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:21:07.818Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:21:07.837Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:21:07.942Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:21:07.942Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3146 ms
2018-10-24T04:21:08.372Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:21:08.624Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:21:08.624Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:21:08.624Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:21:08.624Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:21:08.625Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:21:08.625Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:21:08.625Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:21:08.625Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:21:08.886Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:21:08.897Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:21:09.004Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:21:09.013Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:21:09.126Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:21:09.156Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:21:09.156Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:21:09.335Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:21:09.460Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:21:09.462Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:21:09.522Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:21:09.861Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:21:09.994Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:21:09.995Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6e9319f
2018-10-24T04:21:10.206Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:21:10.209Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:21:10.904Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:21:11.986Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:21:14.391Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:21:14.394Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:21:14.395Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:21:14.405Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:21:14.408Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:21:14.448Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:21:14.450Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:21:25.871Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31252 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:21:25.878Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:21:25.996Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@13c78c0b: startup date [Wed Oct 24 04:21:25 UTC 2018]; root of context hierarchy
2018-10-24T04:21:26.990Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:21:26.992Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:21:26.993Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:21:27.150Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:21:28.225Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c8e8b90a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:21:29.026Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:21:29.047Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:21:29.066Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:21:29.067Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:21:29.085Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:21:29.198Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:21:29.198Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3206 ms
2018-10-24T04:21:29.718Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:21:29.940Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:21:29.941Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:21:29.941Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:21:29.941Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:21:29.941Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:21:29.941Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:21:29.941Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:21:29.942Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:21:30.273Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:21:30.284Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:21:30.393Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:21:30.402Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:21:30.527Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.066s)
2018-10-24T04:21:30.546Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:21:30.547Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:21:30.730Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:21:30.861Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:21:30.863Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:21:30.925Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:21:31.271Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:21:31.429Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:21:31.431Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3a1d593e
2018-10-24T04:21:31.659Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:21:31.666Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:21:32.402Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:21:33.555Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:21:36.049Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:21:36.054Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:21:36.055Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:21:36.067Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:21:36.071Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:21:36.091Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:21:36.093Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:21:46.946Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31321 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:21:46.953Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:21:47.070Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@174d20a: startup date [Wed Oct 24 04:21:47 UTC 2018]; root of context hierarchy
2018-10-24T04:21:48.115Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:21:48.128Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:21:48.129Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:21:48.270Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:21:49.373Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3523b09b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:21:50.194Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:21:50.215Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:21:50.235Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:21:50.236Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:21:50.254Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:21:50.353Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:21:50.353Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3286 ms
2018-10-24T04:21:50.773Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:21:51.093Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:21:51.094Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:21:51.094Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:21:51.094Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:21:51.095Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:21:51.095Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:21:51.095Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:21:51.095Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:21:51.399Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:21:51.414Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:21:51.531Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:21:51.541Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:21:51.656Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:21:51.679Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:21:51.680Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:21:51.849Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:21:51.972Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:21:51.974Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:21:52.032Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:21:52.392Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:21:52.512Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:21:52.513Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@389adf1d
2018-10-24T04:21:52.729Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:21:52.733Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:21:53.438Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:21:54.509Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:21:56.894Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:21:56.898Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:21:56.898Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:21:56.905Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:21:56.908Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:21:56.926Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:21:56.928Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:22:08.048Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31388 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:22:08.055Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:22:08.130Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@66d2e7d9: startup date [Wed Oct 24 04:22:08 UTC 2018]; root of context hierarchy
2018-10-24T04:22:09.219Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:22:09.221Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:22:09.221Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:22:09.359Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:22:10.451Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2a0a87bd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:22:11.272Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:22:11.293Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:22:11.310Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:22:11.311Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:22:11.328Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:22:11.434Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:22:11.434Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3307 ms
2018-10-24T04:22:11.852Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:22:12.181Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:22:12.181Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:22:12.182Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:22:12.182Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:22:12.182Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:22:12.182Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:22:12.182Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:22:12.182Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:22:12.458Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:22:12.469Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:22:12.573Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:22:12.582Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:22:12.694Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:22:12.720Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:22:12.723Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:22:12.892Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:22:13.024Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:22:13.026Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:22:13.087Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:22:13.433Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:22:13.555Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:22:13.557Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1fc0053e
2018-10-24T04:22:13.779Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:22:13.782Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:22:14.492Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:22:15.583Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:22:18.005Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:22:18.012Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:22:18.013Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:22:18.052Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:22:18.057Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:22:18.083Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:22:18.086Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:22:29.140Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31456 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:22:29.148Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:22:29.224Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6ea12c19: startup date [Wed Oct 24 04:22:29 UTC 2018]; root of context hierarchy
2018-10-24T04:22:30.337Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:22:30.340Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:22:30.341Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:22:30.487Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:22:31.570Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64fa44bc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:22:32.354Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:22:32.373Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:22:32.390Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:22:32.391Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:22:32.409Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:22:32.521Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:22:32.521Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3301 ms
2018-10-24T04:22:32.944Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:22:33.151Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:22:33.151Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:22:33.151Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:22:33.152Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:22:33.152Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:22:33.152Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:22:33.152Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:22:33.152Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:22:33.379Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:22:33.390Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:22:33.495Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:22:33.505Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:22:33.621Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.056s)
2018-10-24T04:22:33.647Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:22:33.648Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:22:33.826Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:22:33.953Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:22:33.955Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:22:34.013Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:22:34.349Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:22:34.473Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:22:34.474Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6e9319f
2018-10-24T04:22:34.690Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:22:34.693Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:22:35.395Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:22:36.466Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:22:38.887Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:22:38.890Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:22:38.891Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:22:38.928Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:22:38.930Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:22:38.956Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:22:38.958Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:22:50.457Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31523 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:22:50.464Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:22:50.593Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@69d9c55: startup date [Wed Oct 24 04:22:50 UTC 2018]; root of context hierarchy
2018-10-24T04:22:51.648Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:22:51.650Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:22:51.651Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:22:51.793Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:22:52.876Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fe8aeaeb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:22:53.689Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:22:53.711Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:22:53.730Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:22:53.732Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:22:53.747Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:22:53.861Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:22:53.862Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3273 ms
2018-10-24T04:22:54.298Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:22:54.505Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:22:54.505Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:22:54.505Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:22:54.506Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:22:54.506Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:22:54.506Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:22:54.506Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:22:54.506Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:22:54.725Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:22:54.736Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:22:54.841Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:22:54.850Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:22:54.958Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T04:22:54.986Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:22:54.988Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:22:55.170Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:22:55.310Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:22:55.312Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:22:55.375Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:22:55.713Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:22:55.841Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:22:55.843Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@664a9613
2018-10-24T04:22:56.059Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:22:56.062Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:22:56.782Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:22:57.892Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:23:00.474Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:23:00.478Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:23:00.479Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:23:00.499Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:23:00.501Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:23:00.520Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:23:00.522Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:23:11.478Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31589 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:23:11.485Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:23:11.558Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2344fc66: startup date [Wed Oct 24 04:23:11 UTC 2018]; root of context hierarchy
2018-10-24T04:23:12.598Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:23:12.600Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:23:12.601Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:23:12.734Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:23:13.841Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b5098f3b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:23:14.652Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:23:14.672Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:23:14.689Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:23:14.690Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:23:14.707Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:23:14.808Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:23:14.808Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3253 ms
2018-10-24T04:23:15.264Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:23:15.474Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:23:15.474Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:23:15.475Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:23:15.475Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:23:15.475Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:23:15.475Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:23:15.475Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:23:15.476Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:23:15.724Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:23:15.735Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:23:15.839Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:23:15.848Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:23:15.958Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T04:23:15.976Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:23:15.976Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:23:16.156Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:23:16.287Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:23:16.289Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:23:16.350Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:23:16.701Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:23:16.828Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:23:16.830Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2416a51
2018-10-24T04:23:17.060Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:23:17.063Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:23:17.784Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:23:18.899Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:23:21.280Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:23:21.284Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:23:21.285Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:23:21.295Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:23:21.298Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:23:21.317Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:23:21.319Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:23:32.650Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31658 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:23:32.657Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:23:32.794Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5056dfcb: startup date [Wed Oct 24 04:23:32 UTC 2018]; root of context hierarchy
2018-10-24T04:23:33.868Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:23:33.870Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:23:33.871Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:23:34.014Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:23:35.086Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c5726ea4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:23:35.870Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:23:35.891Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:23:35.911Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:23:35.912Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:23:35.930Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:23:36.034Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:23:36.034Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3247 ms
2018-10-24T04:23:36.453Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:23:36.696Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:23:36.697Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:23:36.697Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:23:36.697Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:23:36.697Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:23:36.698Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:23:36.698Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:23:36.698Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:23:36.964Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:23:36.974Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:23:37.077Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:23:37.085Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:23:37.192Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T04:23:37.218Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:23:37.222Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:23:37.398Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:23:37.524Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:23:37.526Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:23:37.585Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:23:37.929Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:23:38.049Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:23:38.051Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5217f3d0
2018-10-24T04:23:38.264Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:23:38.267Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:23:38.972Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:23:40.056Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:23:42.534Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:23:42.538Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:23:42.539Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:23:42.547Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:23:42.549Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:23:42.567Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:23:42.569Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:23:53.694Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31724 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:23:53.702Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:23:53.827Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2669b199: startup date [Wed Oct 24 04:23:53 UTC 2018]; root of context hierarchy
2018-10-24T04:23:54.858Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:23:54.860Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:23:54.861Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:23:55.007Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:23:56.098Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c5726ea4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:23:56.941Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:23:56.962Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:23:56.979Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:23:56.980Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:23:56.996Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:23:57.104Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:23:57.104Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3281 ms
2018-10-24T04:23:57.533Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:23:57.742Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:23:57.743Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:23:57.743Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:23:57.743Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:23:57.744Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:23:57.744Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:23:57.744Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:23:57.744Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:23:57.975Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:23:57.986Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:23:58.095Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:23:58.107Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:23:58.244Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.069s)
2018-10-24T04:23:58.261Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:23:58.262Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:23:58.438Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:23:58.568Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:23:58.571Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:23:58.632Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:23:58.991Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:23:59.117Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:23:59.119Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@293bb8a5
2018-10-24T04:23:59.357Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:23:59.364Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:24:00.124Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:24:01.227Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:24:03.775Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:24:03.778Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:24:03.779Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:24:03.799Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:24:03.802Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:24:03.822Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:24:03.824Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:24:14.865Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31790 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:24:14.872Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:24:14.949Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@337d0578: startup date [Wed Oct 24 04:24:14 UTC 2018]; root of context hierarchy
2018-10-24T04:24:16.071Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:24:16.073Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:24:16.073Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:24:16.217Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:24:17.290Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$66f03c3c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:24:18.113Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:24:18.134Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:24:18.151Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:24:18.152Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:24:18.168Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:24:18.278Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:24:18.279Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3333 ms
2018-10-24T04:24:18.700Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:24:19.021Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:24:19.021Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:24:19.021Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:24:19.022Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:24:19.022Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:24:19.022Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:24:19.022Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:24:19.022Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:24:19.347Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:24:19.361Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:24:19.482Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:24:19.509Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:24:19.637Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.066s)
2018-10-24T04:24:19.653Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:24:19.654Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:24:19.829Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:24:19.956Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:24:19.958Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:24:20.022Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:24:20.364Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:24:20.491Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:24:20.492Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a3e3e8b
2018-10-24T04:24:20.720Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:24:20.723Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:24:21.438Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:24:22.526Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:24:24.931Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:24:24.950Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:24:24.951Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:24:24.971Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:24:24.976Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:24:25.000Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:24:25.002Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:24:36.000Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31859 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:24:36.007Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:24:36.077Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@26f67b76: startup date [Wed Oct 24 04:24:36 UTC 2018]; root of context hierarchy
2018-10-24T04:24:37.215Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:24:37.217Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:24:37.218Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:24:37.360Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:24:38.432Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9cee548b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:24:39.301Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:24:39.321Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:24:39.339Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:24:39.340Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:24:39.357Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:24:39.463Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:24:39.463Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3389 ms
2018-10-24T04:24:39.921Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:24:40.154Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:24:40.154Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:24:40.154Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:24:40.155Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:24:40.155Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:24:40.155Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:24:40.155Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:24:40.155Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:24:40.420Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:24:40.431Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:24:40.548Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:24:40.558Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:24:40.703Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.073s)
2018-10-24T04:24:40.719Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:24:40.720Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:24:40.901Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:24:41.034Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:24:41.037Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:24:41.109Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:24:41.463Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:24:41.593Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:24:41.595Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a8a60bc
2018-10-24T04:24:41.811Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:24:41.814Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:24:42.522Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:24:43.704Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:24:46.216Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:24:46.221Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:24:46.221Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:24:46.240Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:24:46.245Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:24:46.271Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:24:46.273Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:24:57.098Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31925 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:24:57.106Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:24:57.223Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c09711b: startup date [Wed Oct 24 04:24:57 UTC 2018]; root of context hierarchy
2018-10-24T04:24:58.296Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:24:58.298Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:24:58.299Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:24:58.443Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:24:59.531Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$566ccff9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:25:00.342Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:25:00.364Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:25:00.381Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:25:00.382Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:25:00.399Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:25:00.509Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:25:00.509Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3289 ms
2018-10-24T04:25:00.951Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:25:01.162Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:25:01.162Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:25:01.163Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:25:01.163Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:25:01.163Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:25:01.163Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:25:01.163Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:25:01.164Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:25:01.403Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:25:01.414Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:25:01.529Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:25:01.538Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:25:01.672Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.074s)
2018-10-24T04:25:01.698Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:25:01.699Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:25:01.899Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:25:02.042Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:25:02.045Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:25:02.109Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:25:02.458Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:25:02.579Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:25:02.581Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@72f46e16
2018-10-24T04:25:02.803Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:25:02.807Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:25:03.563Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:25:04.657Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:25:07.139Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:25:07.143Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:25:07.143Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:25:07.150Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:25:07.153Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:25:07.170Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:25:07.172Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:25:18.312Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 31996 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:25:18.320Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:25:18.455Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c09711b: startup date [Wed Oct 24 04:25:18 UTC 2018]; root of context hierarchy
2018-10-24T04:25:19.529Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:25:19.531Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:25:19.532Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:25:19.674Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:25:20.734Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fc1bb85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:25:21.498Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:25:21.517Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:25:21.533Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:25:21.534Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:25:21.551Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:25:21.662Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:25:21.662Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3211 ms
2018-10-24T04:25:22.072Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:25:22.273Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:25:22.273Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:25:22.273Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:25:22.273Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:25:22.274Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:25:22.274Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:25:22.274Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:25:22.274Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:25:22.498Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:25:22.510Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:25:22.618Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:25:22.628Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:25:22.746Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.058s)
2018-10-24T04:25:22.771Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:25:22.772Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:25:22.945Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:25:23.075Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:25:23.077Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:25:23.142Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:25:23.495Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:25:23.641Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:25:23.643Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3c9168dc
2018-10-24T04:25:23.865Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:25:23.868Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:25:24.602Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:25:25.699Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:25:28.118Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:25:28.122Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:25:28.122Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:25:28.132Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:25:28.134Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:25:28.152Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:25:28.154Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:25:39.427Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32063 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:25:39.435Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:25:39.558Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@69d9c55: startup date [Wed Oct 24 04:25:39 UTC 2018]; root of context hierarchy
2018-10-24T04:25:40.750Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:25:40.752Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:25:40.753Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:25:40.898Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:25:41.996Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$46d90ddb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:25:42.776Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:25:42.796Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:25:42.812Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:25:42.814Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:25:42.831Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:25:42.945Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:25:42.946Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3391 ms
2018-10-24T04:25:43.375Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:25:43.584Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:25:43.584Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:25:43.585Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:25:43.585Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:25:43.585Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:25:43.585Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:25:43.585Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:25:43.585Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:25:43.820Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:25:43.831Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:25:43.936Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:25:43.946Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:25:44.091Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.079s)
2018-10-24T04:25:44.113Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:25:44.114Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:25:44.283Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:25:44.407Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:25:44.410Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:25:44.467Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:25:44.837Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:25:44.965Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:25:44.966Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5118388b
2018-10-24T04:25:45.177Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:25:45.180Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:25:45.899Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:25:47.027Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:25:49.481Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:25:49.493Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:25:49.494Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:25:49.503Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:25:49.505Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:25:49.524Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:25:49.526Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:26:00.602Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32131 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:26:00.609Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:26:00.733Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61a485d2: startup date [Wed Oct 24 04:26:00 UTC 2018]; root of context hierarchy
2018-10-24T04:26:01.863Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:26:01.865Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:26:01.865Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:26:01.994Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:26:03.043Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$24a377ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:26:03.831Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:26:03.851Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:26:03.869Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:26:03.870Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:26:03.886Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:26:03.985Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:26:03.985Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3255 ms
2018-10-24T04:26:04.423Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:26:04.645Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:26:04.646Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:26:04.646Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:26:04.646Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:26:04.646Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:26:04.646Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:26:04.647Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:26:04.647Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:26:04.882Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:26:04.893Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:26:05.003Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:26:05.013Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:26:05.170Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.096s)
2018-10-24T04:26:05.191Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:26:05.191Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:26:05.369Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:26:05.500Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:26:05.518Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:26:05.580Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:26:05.919Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:26:06.040Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:26:06.041Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5af28b27
2018-10-24T04:26:06.255Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:26:06.258Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:26:06.956Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:26:08.119Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:26:10.513Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:26:10.534Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:26:10.535Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:26:10.554Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:26:10.556Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:26:10.576Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:26:10.579Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:26:21.645Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32197 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:26:21.654Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:26:21.778Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@32e6e9c3: startup date [Wed Oct 24 04:26:21 UTC 2018]; root of context hierarchy
2018-10-24T04:26:22.845Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:26:22.847Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:26:22.848Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:26:22.986Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:26:24.104Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c775000] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:26:24.930Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:26:24.950Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:26:24.968Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:26:24.969Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:26:24.987Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:26:25.100Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:26:25.101Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3327 ms
2018-10-24T04:26:25.556Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:26:25.761Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:26:25.762Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:26:25.762Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:26:25.762Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:26:25.762Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:26:25.762Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:26:25.763Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:26:25.763Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:26:25.994Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:26:26.005Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:26:26.113Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:26:26.122Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:26:26.239Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T04:26:26.267Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:26:26.269Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:26:26.455Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:26:26.586Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:26:26.588Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:26:26.648Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:26:27.000Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:26:27.131Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:26:27.133Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@32232e55
2018-10-24T04:26:27.348Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:26:27.351Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:26:28.062Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:26:29.241Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:26:31.702Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:26:31.705Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:26:31.706Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:26:31.714Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:26:31.716Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:26:31.761Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:26:31.763Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:26:42.769Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32264 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:26:42.778Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:26:42.896Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5cc7c2a6: startup date [Wed Oct 24 04:26:42 UTC 2018]; root of context hierarchy
2018-10-24T04:26:43.929Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:26:43.932Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:26:43.932Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:26:44.074Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:26:45.184Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$566ccff9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:26:45.981Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:26:46.002Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:26:46.019Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:26:46.020Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:26:46.037Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:26:46.144Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:26:46.144Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3251 ms
2018-10-24T04:26:46.569Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:26:46.775Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:26:46.775Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:26:46.776Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:26:46.776Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:26:46.776Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:26:46.776Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:26:46.776Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:26:46.776Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:26:46.994Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:26:47.005Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:26:47.110Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:26:47.119Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:26:47.228Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T04:26:47.258Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:26:47.259Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:26:47.436Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:26:47.566Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:26:47.568Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:26:47.628Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:26:47.972Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:26:48.132Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:26:48.133Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@332a7fce
2018-10-24T04:26:48.362Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:26:48.366Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:26:49.100Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:26:50.321Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:26:52.767Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:26:52.771Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:26:52.772Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:26:52.782Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:26:52.784Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:26:52.803Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:26:52.805Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:27:03.958Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32331 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:27:03.966Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:27:04.084Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7921b0a2: startup date [Wed Oct 24 04:27:04 UTC 2018]; root of context hierarchy
2018-10-24T04:27:05.157Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:27:05.159Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:27:05.160Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:27:05.302Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:27:06.394Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$44808c13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:27:07.205Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:27:07.226Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:27:07.244Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:27:07.245Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:27:07.273Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:27:07.388Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:27:07.388Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3308 ms
2018-10-24T04:27:07.838Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:27:08.059Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:27:08.060Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:27:08.060Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:27:08.060Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:27:08.060Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:27:08.060Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:27:08.061Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:27:08.061Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:27:08.287Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:27:08.298Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:27:08.406Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:27:08.416Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:27:08.561Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.079s)
2018-10-24T04:27:08.581Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:27:08.581Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:27:08.760Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:27:08.894Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:27:08.896Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:27:08.956Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:27:09.300Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:27:09.428Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:27:09.429Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@77307458
2018-10-24T04:27:09.646Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:27:09.649Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:27:10.369Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:27:11.432Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:27:13.916Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:27:13.920Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:27:13.920Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:27:13.930Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:27:13.934Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:27:13.972Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:27:13.974Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:27:25.103Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32397 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:27:25.111Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:27:25.269Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@337d0578: startup date [Wed Oct 24 04:27:25 UTC 2018]; root of context hierarchy
2018-10-24T04:27:26.387Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:27:26.389Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:27:26.390Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:27:26.531Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:27:27.607Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc4702ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:27:28.398Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:27:28.418Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:27:28.435Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:27:28.436Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:27:28.451Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:27:28.548Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:27:28.549Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3283 ms
2018-10-24T04:27:28.986Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:27:29.188Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:27:29.189Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:27:29.189Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:27:29.189Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:27:29.189Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:27:29.189Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:27:29.189Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:27:29.190Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:27:29.411Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:27:29.422Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:27:29.529Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:27:29.538Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:27:29.648Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T04:27:29.672Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:27:29.679Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:27:29.848Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:27:29.971Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:27:29.973Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:27:30.030Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:27:30.358Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:27:30.496Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:27:30.498Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7876d598
2018-10-24T04:27:30.708Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:27:30.712Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:27:31.403Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:27:32.501Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:27:35.000Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:27:35.004Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:27:35.005Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:27:35.013Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:27:35.019Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:27:35.042Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:27:35.044Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:27:46.168Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32466 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:27:46.176Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:27:46.249Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b97c004: startup date [Wed Oct 24 04:27:46 UTC 2018]; root of context hierarchy
2018-10-24T04:27:47.418Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:27:47.421Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:27:47.421Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:27:47.555Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:27:48.658Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6bf1747a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:27:49.433Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:27:49.453Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:27:49.471Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:27:49.472Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:27:49.489Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:27:49.604Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:27:49.604Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3358 ms
2018-10-24T04:27:50.046Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:27:50.253Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:27:50.254Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:27:50.254Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:27:50.254Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:27:50.254Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:27:50.254Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:27:50.255Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:27:50.255Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:27:50.493Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:27:50.504Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:27:50.613Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:27:50.622Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:27:50.734Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:27:50.754Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:27:50.756Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:27:50.937Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:27:51.067Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:27:51.070Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:27:51.130Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:27:51.491Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:27:51.622Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:27:51.624Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@54361a9
2018-10-24T04:27:51.845Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:27:51.849Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:27:52.578Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:27:53.686Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:27:56.071Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:27:56.074Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:27:56.075Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:27:56.086Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:27:56.090Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:27:56.109Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:27:56.111Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:28:07.267Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32532 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:28:07.275Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:28:07.391Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4de8b406: startup date [Wed Oct 24 04:28:07 UTC 2018]; root of context hierarchy
2018-10-24T04:28:08.389Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:28:08.391Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:28:08.391Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:28:08.530Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:28:09.613Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a0447b25] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:28:10.416Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:28:10.439Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:28:10.456Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:28:10.457Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:28:10.474Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:28:10.595Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:28:10.595Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3207 ms
2018-10-24T04:28:11.020Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:28:11.233Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:28:11.234Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:28:11.234Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:28:11.234Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:28:11.235Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:28:11.235Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:28:11.235Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:28:11.235Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:28:11.469Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:28:11.480Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:28:11.594Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:28:11.604Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:28:11.722Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.056s)
2018-10-24T04:28:11.746Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:28:11.747Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:28:11.940Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:28:12.073Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:28:12.075Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:28:12.138Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:28:12.506Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:28:12.630Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:28:12.632Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@33617539
2018-10-24T04:28:12.855Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:28:12.858Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:28:13.592Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:28:14.676Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:28:17.164Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:28:17.168Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:28:17.168Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:28:17.178Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:28:17.180Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:28:17.198Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:28:17.200Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:28:28.444Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32599 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:28:28.452Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:28:28.570Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@153f5a29: startup date [Wed Oct 24 04:28:28 UTC 2018]; root of context hierarchy
2018-10-24T04:28:29.674Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:28:29.676Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:28:29.677Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:28:29.823Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:28:30.908Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6d7f6bb2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:28:31.700Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:28:31.722Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:28:31.739Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:28:31.740Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:28:31.756Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:28:31.868Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:28:31.868Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3301 ms
2018-10-24T04:28:32.304Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:28:32.512Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:28:32.512Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:28:32.512Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:28:32.512Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:28:32.513Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:28:32.513Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:28:32.513Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:28:32.513Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:28:32.757Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:28:32.768Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:28:32.872Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:28:32.883Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:28:32.999Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.055s)
2018-10-24T04:28:33.015Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:28:33.016Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:28:33.182Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:28:33.304Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:28:33.306Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:28:33.362Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:28:33.690Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:28:33.808Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:28:33.810Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@285d851a
2018-10-24T04:28:34.026Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:28:34.029Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:28:34.747Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:28:35.827Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:28:38.280Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:28:38.284Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:28:38.284Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:28:38.294Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:28:38.296Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:28:38.323Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:28:38.325Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:28:49.521Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32666 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:28:49.529Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:28:49.615Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@69d9c55: startup date [Wed Oct 24 04:28:49 UTC 2018]; root of context hierarchy
2018-10-24T04:28:50.767Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:28:50.769Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:28:50.769Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:28:50.923Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:28:51.983Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e612e571] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:28:52.738Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:28:52.758Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:28:52.775Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:28:52.776Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:28:52.797Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:28:52.905Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:28:52.906Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3295 ms
2018-10-24T04:28:53.332Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:28:53.569Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:28:53.570Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:28:53.570Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:28:53.570Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:28:53.571Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:28:53.571Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:28:53.571Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:28:53.571Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:28:53.820Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:28:53.831Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:28:53.939Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:28:53.949Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:28:54.067Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.057s)
2018-10-24T04:28:54.088Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:28:54.091Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:28:54.279Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:28:54.414Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:28:54.416Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:28:54.484Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:28:54.834Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:28:54.953Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:28:54.954Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@314b8f2d
2018-10-24T04:28:55.171Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:28:55.175Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:28:55.910Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:28:57.033Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:28:59.475Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:28:59.478Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:28:59.479Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:28:59.490Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:28:59.492Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:28:59.535Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:28:59.537Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:29:10.802Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 32732 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:29:10.811Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:29:10.940Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@153f5a29: startup date [Wed Oct 24 04:29:10 UTC 2018]; root of context hierarchy
2018-10-24T04:29:12.109Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:29:12.111Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:29:12.111Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:29:12.251Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:29:13.382Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$26bc242f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:29:14.178Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:29:14.199Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:29:14.217Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:29:14.218Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:29:14.234Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:29:14.340Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:29:14.340Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3404 ms
2018-10-24T04:29:14.780Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:29:15.007Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:29:15.008Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:29:15.008Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:29:15.008Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:29:15.008Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:29:15.008Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:29:15.008Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:29:15.009Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:29:15.242Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:29:15.253Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:29:15.366Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:29:15.376Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:29:15.502Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.057s)
2018-10-24T04:29:15.520Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:29:15.520Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:29:15.692Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:29:15.841Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:29:15.844Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:29:15.904Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:29:16.242Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:29:16.363Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:29:16.365Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@361c294e
2018-10-24T04:29:16.582Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:29:16.585Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:29:17.296Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:29:18.387Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:29:20.850Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:29:20.869Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:29:20.870Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:29:20.878Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:29:20.881Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:29:20.903Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:29:20.905Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:29:31.831Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 332 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:29:31.839Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:29:31.943Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7921b0a2: startup date [Wed Oct 24 04:29:31 UTC 2018]; root of context hierarchy
2018-10-24T04:29:33.034Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:29:33.036Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:29:33.036Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:29:33.171Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:29:34.254Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2a0a87bd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:29:35.018Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:29:35.038Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:29:35.055Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:29:35.056Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:29:35.073Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:29:35.194Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:29:35.194Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3254 ms
2018-10-24T04:29:35.609Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:29:35.809Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:29:35.809Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:29:35.810Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:29:35.810Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:29:35.810Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:29:35.810Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:29:35.810Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:29:35.810Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:29:36.076Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:29:36.087Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:29:36.193Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:29:36.202Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:29:36.337Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.072s)
2018-10-24T04:29:36.360Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:29:36.361Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:29:36.538Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:29:36.665Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:29:36.667Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:29:36.725Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:29:37.065Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:29:37.196Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:29:37.198Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1fc0053e
2018-10-24T04:29:37.407Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:29:37.410Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:29:38.109Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:29:39.214Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:29:41.682Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:29:41.686Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:29:41.686Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:29:41.718Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:29:41.720Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:29:41.752Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:29:41.754Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:29:52.991Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 398 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:29:52.999Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:29:53.066Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61a485d2: startup date [Wed Oct 24 04:29:53 UTC 2018]; root of context hierarchy
2018-10-24T04:29:54.243Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:29:54.245Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:29:54.246Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:29:54.383Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:29:55.471Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc4702ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:29:56.265Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:29:56.285Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:29:56.305Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:29:56.306Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:29:56.324Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:29:56.430Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:29:56.430Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3367 ms
2018-10-24T04:29:56.854Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:29:57.060Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:29:57.061Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:29:57.061Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:29:57.061Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:29:57.061Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:29:57.061Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:29:57.062Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:29:57.062Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:29:57.290Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:29:57.301Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:29:57.406Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:29:57.415Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:29:57.525Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:29:57.548Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:29:57.550Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:29:57.730Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:29:57.862Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:29:57.868Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:29:57.929Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:29:58.267Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:29:58.454Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:29:58.455Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5af28b27
2018-10-24T04:29:58.680Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:29:58.686Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:29:59.386Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:30:00.475Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:30:02.904Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:30:02.909Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:30:02.910Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:30:02.953Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:30:02.955Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:30:02.977Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:30:02.979Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:30:14.126Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 481 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:30:14.134Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:30:14.281Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6df97b55: startup date [Wed Oct 24 04:30:14 UTC 2018]; root of context hierarchy
2018-10-24T04:30:15.360Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:30:15.362Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:30:15.362Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:30:15.502Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:30:16.532Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$331947cb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:30:17.321Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:30:17.340Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:30:17.383Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:30:17.384Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:30:17.400Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:30:17.497Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:30:17.497Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3219 ms
2018-10-24T04:30:17.900Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:30:18.112Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:30:18.113Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:30:18.113Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:30:18.113Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:30:18.113Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:30:18.114Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:30:18.114Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:30:18.114Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:30:18.328Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:30:18.338Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:30:18.442Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:30:18.452Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:30:18.569Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.054s)
2018-10-24T04:30:18.593Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:30:18.594Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:30:18.766Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:30:18.893Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:30:18.895Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:30:18.954Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:30:19.306Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:30:19.431Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:30:19.433Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@593e824f
2018-10-24T04:30:19.646Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:30:19.649Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:30:20.333Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:30:21.493Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:30:24.091Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:30:24.095Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:30:24.096Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:30:24.105Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:30:24.107Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:30:24.125Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:30:24.127Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:30:35.216Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 550 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:30:35.224Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:30:35.335Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12843fce: startup date [Wed Oct 24 04:30:35 UTC 2018]; root of context hierarchy
2018-10-24T04:30:36.373Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:30:36.375Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:30:36.376Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:30:36.518Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:30:37.581Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f79a8374] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:30:38.391Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:30:38.412Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:30:38.429Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:30:38.430Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:30:38.446Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:30:38.559Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:30:38.560Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3229 ms
2018-10-24T04:30:38.976Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:30:39.183Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:30:39.184Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:30:39.184Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:30:39.184Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:30:39.184Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:30:39.185Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:30:39.185Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:30:39.185Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:30:39.406Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:30:39.416Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:30:39.521Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:30:39.530Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:30:39.639Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T04:30:39.664Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:30:39.665Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:30:39.839Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:30:39.967Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:30:39.969Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:30:40.029Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:30:40.373Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:30:40.503Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:30:40.505Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2f7a7219
2018-10-24T04:30:40.730Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:30:40.736Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:30:41.471Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:30:42.578Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:30:45.065Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:30:45.070Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:30:45.071Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:30:45.079Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:30:45.081Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:30:45.102Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:30:45.104Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:30:56.404Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 627 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:30:56.411Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:30:56.532Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61dc03ce: startup date [Wed Oct 24 04:30:56 UTC 2018]; root of context hierarchy
2018-10-24T04:30:57.653Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:30:57.655Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:30:57.656Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:30:57.799Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:30:58.849Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1e6de751] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:30:59.681Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:30:59.703Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:30:59.720Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:30:59.721Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:30:59.739Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:30:59.835Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:30:59.835Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3307 ms
2018-10-24T04:31:00.262Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:31:00.480Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:31:00.480Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:31:00.480Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:31:00.480Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:31:00.481Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:31:00.481Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:31:00.481Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:31:00.481Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:31:00.763Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:31:00.774Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:31:00.885Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:31:00.895Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:31:01.010Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.055s)
2018-10-24T04:31:01.036Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:31:01.037Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:31:01.209Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:31:01.341Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:31:01.343Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:31:01.404Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:31:01.746Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:31:01.867Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:31:01.868Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2cab9998
2018-10-24T04:31:02.078Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:31:02.081Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:31:02.768Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:31:03.861Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:31:06.614Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:31:06.618Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:31:06.618Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:31:06.629Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:31:06.633Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:31:06.655Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:31:06.657Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:31:17.476Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 694 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:31:17.485Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:31:17.629Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@531be3c5: startup date [Wed Oct 24 04:31:17 UTC 2018]; root of context hierarchy
2018-10-24T04:31:18.666Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:31:18.668Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:31:18.669Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:31:18.814Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:31:19.884Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9ec5af64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:31:20.748Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:31:20.768Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:31:20.788Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:31:20.789Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:31:20.806Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:31:20.903Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:31:20.903Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3281 ms
2018-10-24T04:31:21.333Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:31:21.540Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:31:21.540Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:31:21.540Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:31:21.540Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:31:21.541Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:31:21.541Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:31:21.541Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:31:21.541Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:31:21.792Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:31:21.803Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:31:21.905Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:31:21.914Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:31:22.025Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T04:31:22.046Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:31:22.047Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:31:22.232Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:31:22.361Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:31:22.363Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:31:22.423Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:31:22.759Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:31:22.886Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:31:22.888Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2f162cc0
2018-10-24T04:31:23.113Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:31:23.116Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:31:23.852Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:31:24.994Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:31:27.415Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:31:27.418Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:31:27.419Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:31:27.431Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:31:27.435Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:31:27.453Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:31:27.455Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:31:38.615Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 763 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:31:38.623Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:31:38.701Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@48eff760: startup date [Wed Oct 24 04:31:38 UTC 2018]; root of context hierarchy
2018-10-24T04:31:39.812Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:31:39.814Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:31:39.815Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:31:39.958Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:31:41.026Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$67391f78] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:31:41.817Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:31:41.837Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:31:41.855Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:31:41.856Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:31:41.874Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:31:41.984Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:31:41.984Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3286 ms
2018-10-24T04:31:42.403Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:31:42.609Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:31:42.609Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:31:42.609Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:31:42.609Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:31:42.610Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:31:42.610Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:31:42.610Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:31:42.610Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:31:42.830Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:31:42.841Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:31:42.944Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:31:42.953Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:31:43.059Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:31:43.095Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:31:43.096Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:31:43.283Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:31:43.415Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:31:43.417Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:31:43.477Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:31:43.818Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:31:43.936Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:31:43.938Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@209775a9
2018-10-24T04:31:44.169Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:31:44.174Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:31:44.900Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:31:46.014Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:31:48.529Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:31:48.532Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:31:48.533Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:31:48.544Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:31:48.548Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:31:48.567Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:31:48.569Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:31:59.759Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 831 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:31:59.766Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:31:59.879Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7ca48474: startup date [Wed Oct 24 04:31:59 UTC 2018]; root of context hierarchy
2018-10-24T04:32:00.977Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:32:00.979Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:32:00.979Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:32:01.119Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:32:02.198Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc4702ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:32:02.997Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:32:03.017Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:32:03.036Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:32:03.037Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:32:03.053Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:32:03.154Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:32:03.155Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3280 ms
2018-10-24T04:32:03.573Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:32:03.896Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:32:03.897Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:32:03.897Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:32:03.897Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:32:03.897Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:32:03.897Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:32:03.898Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:32:03.898Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:32:04.177Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:32:04.188Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:32:04.293Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:32:04.302Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:32:04.433Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.074s)
2018-10-24T04:32:04.455Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:32:04.457Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:32:04.629Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:32:04.755Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:32:04.758Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:32:04.816Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:32:05.151Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:32:05.273Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:32:05.275Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7876d598
2018-10-24T04:32:05.493Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:32:05.496Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:32:06.181Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:32:07.272Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:32:09.939Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:32:09.943Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:32:09.944Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:32:09.962Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:32:09.965Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:32:09.985Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:32:09.987Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:32:20.996Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 898 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:32:21.004Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:32:21.137Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@531be3c5: startup date [Wed Oct 24 04:32:21 UTC 2018]; root of context hierarchy
2018-10-24T04:32:22.207Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:32:22.209Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:32:22.210Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:32:22.359Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:32:23.458Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9ec5af64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:32:24.238Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:32:24.258Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:32:24.275Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:32:24.276Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:32:24.292Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:32:24.391Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:32:24.391Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3257 ms
2018-10-24T04:32:24.838Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:32:25.055Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:32:25.056Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:32:25.056Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:32:25.056Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:32:25.056Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:32:25.057Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:32:25.057Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:32:25.057Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:32:25.312Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:32:25.322Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:32:25.449Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:32:25.458Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:32:25.575Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.058s)
2018-10-24T04:32:25.599Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:32:25.600Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:32:25.772Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:32:25.899Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:32:25.901Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:32:25.960Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:32:26.316Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:32:26.450Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:32:26.451Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2f162cc0
2018-10-24T04:32:26.680Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:32:26.686Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:32:27.411Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:32:28.590Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:32:31.142Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:32:31.148Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:32:31.148Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:32:31.159Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:32:31.163Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:32:31.181Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:32:31.183Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:32:42.065Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 967 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:32:42.073Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:32:42.206Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2669b199: startup date [Wed Oct 24 04:32:42 UTC 2018]; root of context hierarchy
2018-10-24T04:32:43.239Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:32:43.241Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:32:43.242Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:32:43.384Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:32:44.507Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b5098f3b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:32:45.307Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:32:45.327Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:32:45.345Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:32:45.346Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:32:45.363Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:32:45.470Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:32:45.471Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3268 ms
2018-10-24T04:32:45.888Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:32:46.100Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:32:46.101Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:32:46.101Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:32:46.101Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:32:46.101Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:32:46.102Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:32:46.102Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:32:46.102Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:32:46.326Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:32:46.337Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:32:46.444Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:32:46.454Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:32:46.565Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:32:46.590Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:32:46.591Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:32:46.763Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:32:46.887Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:32:46.889Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:32:46.947Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:32:47.291Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:32:47.412Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:32:47.413Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2416a51
2018-10-24T04:32:47.627Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:32:47.630Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:32:48.352Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:32:49.473Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:32:51.935Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:32:51.938Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:32:51.939Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:32:51.958Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:32:51.961Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:32:51.980Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:32:51.982Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:33:03.121Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1035 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:33:03.129Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:33:03.258Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12843fce: startup date [Wed Oct 24 04:33:03 UTC 2018]; root of context hierarchy
2018-10-24T04:33:04.396Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:33:04.398Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:33:04.399Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:33:04.540Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:33:05.615Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2aede8aa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:33:06.457Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:33:06.478Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:33:06.495Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:33:06.496Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:33:06.513Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:33:06.634Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:33:06.635Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3384 ms
2018-10-24T04:33:07.068Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:33:07.294Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:33:07.295Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:33:07.295Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:33:07.295Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:33:07.296Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:33:07.296Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:33:07.296Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:33:07.296Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:33:07.525Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:33:07.536Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:33:07.641Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:33:07.650Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:33:07.766Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T04:33:07.792Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:33:07.793Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:33:07.960Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:33:08.083Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:33:08.086Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:33:08.155Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:33:08.497Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:33:08.633Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:33:08.634Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a8a60bc
2018-10-24T04:33:08.855Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:33:08.858Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:33:09.590Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:33:10.674Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:33:13.065Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:33:13.069Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:33:13.069Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:33:13.079Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:33:13.082Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:33:13.103Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:33:13.105Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:33:24.338Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1103 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:33:24.345Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:33:24.479Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@39fb3ab6: startup date [Wed Oct 24 04:33:24 UTC 2018]; root of context hierarchy
2018-10-24T04:33:25.504Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:33:25.506Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:33:25.507Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:33:25.645Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:33:26.721Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3ad78d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:33:27.554Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:33:27.576Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:33:27.594Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:33:27.595Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:33:27.612Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:33:27.718Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:33:27.718Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3243 ms
2018-10-24T04:33:28.150Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:33:28.362Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:33:28.363Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:33:28.363Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:33:28.363Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:33:28.363Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:33:28.363Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:33:28.364Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:33:28.364Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:33:28.594Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:33:28.606Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:33:28.718Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:33:28.727Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:33:28.841Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T04:33:28.863Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:33:28.866Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:33:29.053Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:33:29.186Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:33:29.188Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:33:29.250Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:33:29.594Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:33:29.736Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:33:29.738Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4985cbcb
2018-10-24T04:33:29.956Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:33:29.959Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:33:30.700Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:33:31.815Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:33:34.238Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:33:34.243Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:33:34.243Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:33:34.257Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:33:34.260Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:33:34.278Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:33:34.280Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:33:45.385Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1180 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:33:45.393Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:33:45.546Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c09711b: startup date [Wed Oct 24 04:33:45 UTC 2018]; root of context hierarchy
2018-10-24T04:33:46.629Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:33:46.631Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:33:46.632Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:33:46.774Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:33:47.810Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fc1bb85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:33:48.619Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:33:48.639Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:33:48.660Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:33:48.661Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:33:48.679Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:33:48.781Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:33:48.781Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3238 ms
2018-10-24T04:33:49.203Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:33:49.415Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:33:49.415Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:33:49.415Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:33:49.415Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:33:49.416Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:33:49.416Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:33:49.416Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:33:49.416Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:33:49.649Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:33:49.661Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:33:49.770Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:33:49.780Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:33:49.892Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T04:33:49.924Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:33:49.925Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:33:50.129Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:33:50.270Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:33:50.272Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:33:50.341Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:33:50.701Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:33:50.831Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:33:50.833Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3c9168dc
2018-10-24T04:33:51.052Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:33:51.055Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:33:51.789Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:33:52.939Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:33:55.389Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:33:55.392Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:33:55.393Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:33:55.442Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:33:55.444Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:33:55.463Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:33:55.465Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:34:06.630Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1252 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:34:06.638Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:34:06.785Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7ca48474: startup date [Wed Oct 24 04:34:06 UTC 2018]; root of context hierarchy
2018-10-24T04:34:07.813Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:34:07.815Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:34:07.816Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:34:07.962Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:34:09.078Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fe8aeaeb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:34:09.928Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:34:09.949Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:34:09.966Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:34:09.967Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:34:09.985Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:34:10.101Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:34:10.102Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3321 ms
2018-10-24T04:34:10.559Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:34:10.784Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:34:10.785Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:34:10.785Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:34:10.785Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:34:10.785Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:34:10.785Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:34:10.785Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:34:10.786Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:34:11.019Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:34:11.030Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:34:11.138Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:34:11.147Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:34:11.260Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:34:11.286Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:34:11.287Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:34:11.464Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:34:11.591Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:34:11.593Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:34:11.652Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:34:11.993Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:34:12.114Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:34:12.116Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@15a902e7
2018-10-24T04:34:12.330Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:34:12.334Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:34:13.031Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:34:14.123Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:34:16.608Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:34:16.612Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:34:16.612Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:34:16.623Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:34:16.627Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:34:16.650Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:34:16.652Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:34:27.749Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1319 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:34:27.758Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:34:27.919Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6574b225: startup date [Wed Oct 24 04:34:27 UTC 2018]; root of context hierarchy
2018-10-24T04:34:28.932Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:34:28.934Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:34:28.934Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:34:29.076Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:34:30.178Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c5726ea4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:34:30.998Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:34:31.018Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:34:31.036Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:34:31.037Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:34:31.055Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:34:31.162Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:34:31.163Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3248 ms
2018-10-24T04:34:31.588Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:34:31.827Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:34:31.827Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:34:31.827Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:34:31.827Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:34:31.828Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:34:31.828Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:34:31.828Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:34:31.828Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:34:32.069Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:34:32.080Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:34:32.188Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:34:32.198Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:34:32.324Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.065s)
2018-10-24T04:34:32.342Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:34:32.343Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:34:32.525Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:34:32.661Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:34:32.663Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:34:32.725Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:34:33.088Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:34:33.218Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:34:33.220Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@293bb8a5
2018-10-24T04:34:33.457Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:34:33.464Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:34:34.200Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:34:35.328Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:34:37.896Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:34:37.900Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:34:37.900Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:34:37.920Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:34:37.922Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:34:37.945Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:34:37.948Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:34:48.901Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1389 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:34:48.909Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:34:48.989Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7f560810: startup date [Wed Oct 24 04:34:48 UTC 2018]; root of context hierarchy
2018-10-24T04:34:50.083Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:34:50.085Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:34:50.086Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:34:50.227Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:34:51.335Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6d7f6bb2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:34:52.121Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:34:52.141Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:34:52.158Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:34:52.159Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:34:52.177Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:34:52.291Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:34:52.291Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3313 ms
2018-10-24T04:34:52.719Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:34:52.926Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:34:52.927Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:34:52.927Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:34:52.927Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:34:52.927Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:34:52.927Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:34:52.927Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:34:52.928Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:34:53.156Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:34:53.168Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:34:53.276Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:34:53.286Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:34:53.402Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T04:34:53.431Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:34:53.432Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:34:53.616Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:34:53.750Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:34:53.753Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:34:53.814Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:34:54.156Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:34:54.291Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:34:54.293Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@664a9613
2018-10-24T04:34:54.516Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:34:54.519Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:34:55.256Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:34:56.337Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:34:58.738Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:34:58.741Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:34:58.742Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:34:58.788Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:34:58.791Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:34:58.815Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:34:58.817Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:35:10.072Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1460 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:35:10.079Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:35:10.191Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@69d9c55: startup date [Wed Oct 24 04:35:10 UTC 2018]; root of context hierarchy
2018-10-24T04:35:11.162Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:35:11.164Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:35:11.165Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:35:11.306Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:35:12.376Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$46d90ddb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:35:13.229Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:35:13.248Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:35:13.265Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:35:13.267Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:35:13.282Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:35:13.383Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:35:13.383Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3196 ms
2018-10-24T04:35:13.809Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:35:14.012Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:35:14.012Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:35:14.013Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:35:14.013Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:35:14.013Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:35:14.013Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:35:14.013Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:35:14.014Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:35:14.251Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:35:14.263Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:35:14.374Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:35:14.384Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:35:14.508Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.062s)
2018-10-24T04:35:14.528Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:35:14.529Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:35:14.704Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:35:14.833Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:35:14.836Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:35:14.898Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:35:15.268Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:35:15.393Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:35:15.395Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5118388b
2018-10-24T04:35:15.624Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:35:15.627Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:35:16.370Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:35:17.450Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:35:19.919Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:35:19.923Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:35:19.923Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:35:19.933Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:35:19.935Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:35:19.953Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:35:19.955Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:35:31.082Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1528 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:35:31.091Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:35:31.219Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@48eff760: startup date [Wed Oct 24 04:35:31 UTC 2018]; root of context hierarchy
2018-10-24T04:35:32.337Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:35:32.339Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:35:32.340Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:35:32.474Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:35:33.557Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fbc9a566] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:35:34.387Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:35:34.409Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:35:34.426Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:35:34.427Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:35:34.443Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:35:34.575Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:35:34.576Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3360 ms
2018-10-24T04:35:35.025Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:35:35.239Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:35:35.240Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:35:35.240Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:35:35.240Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:35:35.240Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:35:35.240Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:35:35.240Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:35:35.241Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:35:35.484Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:35:35.495Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:35:35.602Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:35:35.612Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:35:35.727Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:35:35.747Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:35:35.748Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:35:35.918Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:35:36.044Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:35:36.047Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:35:36.106Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:35:36.444Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:35:36.566Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:35:36.568Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@18e7143f
2018-10-24T04:35:36.782Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:35:36.785Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:35:37.516Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:35:38.646Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:35:41.050Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:35:41.053Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:35:41.054Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:35:41.099Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:35:41.101Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:35:41.122Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:35:41.124Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:35:52.214Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1594 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:35:52.222Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:35:52.333Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6276ae34: startup date [Wed Oct 24 04:35:52 UTC 2018]; root of context hierarchy
2018-10-24T04:35:53.360Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:35:53.362Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:35:53.362Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:35:53.502Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:35:54.578Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$566ccff9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:35:55.367Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:35:55.387Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:35:55.404Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:35:55.405Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:35:55.422Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:35:55.533Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:35:55.534Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3204 ms
2018-10-24T04:35:55.956Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:35:56.165Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:35:56.165Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:35:56.165Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:35:56.165Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:35:56.166Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:35:56.166Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:35:56.166Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:35:56.166Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:35:56.389Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:35:56.399Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:35:56.501Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:35:56.510Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:35:56.634Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.063s)
2018-10-24T04:35:56.653Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:35:56.654Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:35:56.824Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:35:56.962Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:35:56.964Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:35:57.026Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:35:57.368Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:35:57.513Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:35:57.515Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@72f46e16
2018-10-24T04:35:57.733Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:35:57.736Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:35:58.440Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:35:59.489Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:36:01.979Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:36:01.983Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:36:01.984Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:36:02.000Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:36:02.003Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:36:02.022Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:36:02.024Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:36:13.332Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1660 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:36:13.340Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:36:13.412Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59e84876: startup date [Wed Oct 24 04:36:13 UTC 2018]; root of context hierarchy
2018-10-24T04:36:14.487Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:36:14.489Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:36:14.489Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:36:14.622Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:36:15.697Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fd9121c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:36:16.561Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:36:16.581Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:36:16.608Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:36:16.610Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:36:16.625Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:36:16.736Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:36:16.736Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3328 ms
2018-10-24T04:36:17.170Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:36:17.421Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:36:17.421Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:36:17.422Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:36:17.422Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:36:17.422Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:36:17.422Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:36:17.422Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:36:17.422Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:36:17.711Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:36:17.722Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:36:17.824Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:36:17.833Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:36:17.941Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:36:17.959Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:36:17.960Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:36:18.136Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:36:18.266Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:36:18.269Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:36:18.330Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:36:18.684Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:36:18.809Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:36:18.811Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a3e3e8b
2018-10-24T04:36:19.030Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:36:19.034Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:36:19.753Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:36:20.914Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:36:23.389Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:36:23.393Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:36:23.393Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:36:23.403Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:36:23.406Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:36:23.427Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:36:23.430Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:36:34.444Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1728 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:36:34.452Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:36:34.612Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4590c9c3: startup date [Wed Oct 24 04:36:34 UTC 2018]; root of context hierarchy
2018-10-24T04:36:35.698Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:36:35.701Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:36:35.701Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:36:35.862Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:36:36.959Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$46018fd9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:36:37.799Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:36:37.819Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:36:37.837Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:36:37.838Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:36:37.854Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:36:37.970Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:36:37.970Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3362 ms
2018-10-24T04:36:38.406Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:36:38.616Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:36:38.617Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:36:38.617Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:36:38.617Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:36:38.617Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:36:38.618Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:36:38.618Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:36:38.618Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:36:38.850Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:36:38.861Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:36:38.970Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:36:38.980Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:36:39.093Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:36:39.118Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:36:39.118Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:36:39.289Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:36:39.414Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:36:39.417Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:36:39.476Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:36:39.825Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:36:39.950Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:36:39.951Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@54361a9
2018-10-24T04:36:40.167Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:36:40.170Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:36:40.874Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:36:41.964Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:36:44.518Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:36:44.522Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:36:44.522Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:36:44.534Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:36:44.536Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:36:44.565Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:36:44.567Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:36:55.619Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1795 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:36:55.626Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:36:55.770Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12843fce: startup date [Wed Oct 24 04:36:55 UTC 2018]; root of context hierarchy
2018-10-24T04:36:56.838Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:36:56.840Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:36:56.840Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:36:56.981Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:36:58.070Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c8e8b90a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:36:58.865Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:36:58.886Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:36:58.904Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:36:58.905Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:36:58.921Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:36:59.031Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:36:59.031Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3264 ms
2018-10-24T04:36:59.451Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:36:59.672Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:36:59.673Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:36:59.673Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:36:59.673Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:36:59.673Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:36:59.673Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:36:59.674Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:36:59.674Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:36:59.906Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:36:59.917Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:37:00.028Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:37:00.039Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:37:00.171Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.071s)
2018-10-24T04:37:00.188Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:37:00.188Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:37:00.360Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:37:00.489Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:37:00.491Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:37:00.571Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:37:00.919Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:37:01.089Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:37:01.090Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3a1d593e
2018-10-24T04:37:01.300Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:37:01.303Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:37:01.998Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:37:03.086Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:37:05.467Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:37:05.470Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:37:05.471Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:37:05.528Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:37:05.537Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:37:05.597Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:37:05.598Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:37:16.746Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1862 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:37:16.755Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:37:16.887Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@32e6e9c3: startup date [Wed Oct 24 04:37:16 UTC 2018]; root of context hierarchy
2018-10-24T04:37:17.967Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:37:18.005Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:37:18.005Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:37:18.148Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:37:19.270Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6bf1747a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:37:20.098Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:37:20.117Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:37:20.134Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:37:20.135Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:37:20.151Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:37:20.247Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:37:20.248Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3362 ms
2018-10-24T04:37:20.658Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:37:20.862Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:37:20.862Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:37:20.862Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:37:20.863Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:37:20.863Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:37:20.863Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:37:20.863Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:37:20.863Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:37:21.084Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:37:21.095Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:37:21.199Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:37:21.208Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:37:21.324Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.056s)
2018-10-24T04:37:21.351Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:37:21.353Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:37:21.536Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:37:21.667Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:37:21.669Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:37:21.730Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:37:22.102Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:37:22.226Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:37:22.228Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5217f3d0
2018-10-24T04:37:22.449Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:37:22.453Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:37:23.182Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:37:24.315Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:37:26.833Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:37:26.836Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:37:26.837Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:37:26.847Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:37:26.850Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:37:26.868Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:37:26.870Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:37:37.905Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1929 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:37:37.913Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:37:38.051Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7ca48474: startup date [Wed Oct 24 04:37:38 UTC 2018]; root of context hierarchy
2018-10-24T04:37:39.157Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:37:39.159Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:37:39.160Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:37:39.297Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:37:40.386Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$66f03c3c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:37:41.182Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:37:41.202Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:37:41.218Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:37:41.219Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:37:41.235Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:37:41.333Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:37:41.333Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3285 ms
2018-10-24T04:37:41.741Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:37:41.944Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:37:41.945Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:37:41.945Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:37:41.945Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:37:41.945Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:37:41.945Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:37:41.946Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:37:41.946Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:37:42.171Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:37:42.181Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:37:42.284Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:37:42.293Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:37:42.399Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T04:37:42.422Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:37:42.423Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:37:42.596Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:37:42.719Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:37:42.721Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:37:42.779Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:37:43.118Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:37:43.245Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:37:43.247Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@15a902e7
2018-10-24T04:37:43.463Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:37:43.466Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:37:44.178Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:37:45.365Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:37:48.071Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:37:48.074Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:37:48.075Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:37:48.088Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:37:48.092Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:37:48.116Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:37:48.118Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:37:58.975Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 1995 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:37:58.982Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:37:59.111Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@402f32ff: startup date [Wed Oct 24 04:37:59 UTC 2018]; root of context hierarchy
2018-10-24T04:38:00.123Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:38:00.125Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:38:00.125Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:38:00.262Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:38:01.321Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ec670acc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:38:02.148Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:38:02.169Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:38:02.187Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:38:02.188Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:38:02.204Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:38:02.315Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:38:02.316Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3208 ms
2018-10-24T04:38:02.735Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:38:02.958Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:38:02.959Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:38:02.959Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:38:02.959Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:38:02.960Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:38:02.960Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:38:02.960Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:38:02.960Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:38:03.207Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:38:03.218Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:38:03.326Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:38:03.335Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:38:03.451Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.055s)
2018-10-24T04:38:03.471Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:38:03.477Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:38:03.653Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:38:03.782Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:38:03.785Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:38:03.844Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:38:04.193Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:38:04.315Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:38:04.316Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@f9b7332
2018-10-24T04:38:04.534Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:38:04.537Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:38:05.259Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:38:06.354Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:38:08.768Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:38:08.772Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:38:08.772Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:38:08.781Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:38:08.784Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:38:08.802Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:38:08.804Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:38:20.155Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2062 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:38:20.163Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:38:20.252Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@13a57a3b: startup date [Wed Oct 24 04:38:20 UTC 2018]; root of context hierarchy
2018-10-24T04:38:21.339Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:38:21.341Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:38:21.342Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:38:21.481Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:38:22.595Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$46d90ddb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:38:23.392Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:38:23.412Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:38:23.429Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:38:23.430Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:38:23.447Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:38:23.552Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:38:23.553Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3304 ms
2018-10-24T04:38:23.992Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:38:24.206Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:38:24.207Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:38:24.207Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:38:24.207Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:38:24.207Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:38:24.207Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:38:24.208Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:38:24.208Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:38:24.502Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:38:24.514Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:38:24.619Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:38:24.628Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:38:24.734Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:38:24.757Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:38:24.758Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:38:24.938Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:38:25.071Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:38:25.073Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:38:25.154Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:38:25.509Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:38:25.635Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:38:25.637Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5118388b
2018-10-24T04:38:25.860Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:38:25.867Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:38:26.577Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:38:27.782Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:38:30.176Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:38:30.180Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:38:30.199Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:38:30.209Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:38:30.211Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:38:30.230Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:38:30.232Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:38:41.342Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2129 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:38:41.350Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:38:41.479Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a2bcfcb: startup date [Wed Oct 24 04:38:41 UTC 2018]; root of context hierarchy
2018-10-24T04:38:42.527Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:38:42.529Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:38:42.530Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:38:42.673Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:38:43.749Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d9705faa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:38:44.540Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:38:44.560Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:38:44.576Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:38:44.577Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:38:44.594Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:38:44.722Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:38:44.722Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3246 ms
2018-10-24T04:38:45.137Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:38:45.342Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:38:45.342Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:38:45.342Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:38:45.343Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:38:45.343Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:38:45.343Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:38:45.343Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:38:45.343Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:38:45.572Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:38:45.582Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:38:45.689Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:38:45.698Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:38:45.811Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T04:38:45.841Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:38:45.841Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:38:46.013Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:38:46.139Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:38:46.141Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:38:46.199Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:38:46.548Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:38:46.693Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:38:46.694Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@33617539
2018-10-24T04:38:46.916Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:38:46.920Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:38:47.609Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:38:48.664Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:38:51.102Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:38:51.107Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:38:51.108Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:38:51.119Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:38:51.121Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:38:51.147Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:38:51.150Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:39:02.616Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2196 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:39:02.623Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:39:02.729Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c09711b: startup date [Wed Oct 24 04:39:02 UTC 2018]; root of context hierarchy
2018-10-24T04:39:03.747Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:39:03.749Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:39:03.750Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:39:03.895Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:39:04.968Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$566ccff9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:39:05.826Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:39:05.846Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:39:05.866Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:39:05.867Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:39:05.884Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:39:05.998Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:39:05.998Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3273 ms
2018-10-24T04:39:06.446Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:39:06.687Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:39:06.688Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:39:06.688Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:39:06.688Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:39:06.688Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:39:06.688Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:39:06.688Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:39:06.689Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:39:06.949Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:39:06.959Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:39:07.067Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:39:07.077Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:39:07.182Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.047s)
2018-10-24T04:39:07.199Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:39:07.200Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:39:07.373Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:39:07.500Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:39:07.502Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:39:07.561Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:39:07.930Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:39:08.089Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:39:08.090Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@72f46e16
2018-10-24T04:39:08.306Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:39:08.309Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:39:09.044Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:39:10.138Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:39:12.836Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:39:12.840Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:39:12.841Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:39:12.850Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:39:12.852Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:39:12.870Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:39:12.872Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:39:23.551Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2262 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:39:23.558Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:39:23.691Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2c9f9fb0: startup date [Wed Oct 24 04:39:23 UTC 2018]; root of context hierarchy
2018-10-24T04:39:24.710Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:39:24.712Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:39:24.713Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:39:24.858Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:39:25.948Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a013e4d0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:39:26.750Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:39:26.769Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:39:26.786Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:39:26.787Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:39:26.804Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:39:26.918Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:39:26.918Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3231 ms
2018-10-24T04:39:27.374Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:39:27.578Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:39:27.578Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:39:27.579Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:39:27.579Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:39:27.579Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:39:27.579Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:39:27.579Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:39:27.579Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:39:27.815Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:39:27.825Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:39:27.928Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:39:27.937Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:39:28.041Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.047s)
2018-10-24T04:39:28.062Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:39:28.065Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:39:28.244Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:39:28.379Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:39:28.381Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:39:28.442Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:39:28.804Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:39:28.972Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:39:28.974Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7f69d591
2018-10-24T04:39:29.190Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:39:29.193Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:39:29.906Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:39:31.026Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:39:33.629Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:39:33.634Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:39:33.635Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:39:33.663Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:39:33.665Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:39:33.685Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:39:33.687Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:39:44.757Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2329 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:39:44.773Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:39:44.886Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7946e1f4: startup date [Wed Oct 24 04:39:44 UTC 2018]; root of context hierarchy
2018-10-24T04:39:45.943Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:39:45.948Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:39:45.951Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:39:46.108Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:39:47.195Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fc1bb85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:39:47.973Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:39:47.995Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:39:48.012Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:39:48.013Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:39:48.032Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:39:48.150Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:39:48.150Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3267 ms
2018-10-24T04:39:48.569Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:39:48.776Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:39:48.776Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:39:48.777Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:39:48.777Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:39:48.777Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:39:48.777Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:39:48.777Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:39:48.777Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:39:49.048Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:39:49.059Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:39:49.160Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:39:49.169Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:39:49.275Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T04:39:49.292Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:39:49.292Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:39:49.470Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:39:49.628Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:39:49.630Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:39:49.690Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:39:50.051Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:39:50.170Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:39:50.171Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3c9168dc
2018-10-24T04:39:50.387Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:39:50.390Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:39:51.079Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:39:52.209Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:39:54.618Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:39:54.621Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:39:54.622Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:39:54.631Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:39:54.634Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:39:54.660Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:39:54.662Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:40:05.786Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2398 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:40:05.794Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:40:05.918Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b97c004: startup date [Wed Oct 24 04:40:05 UTC 2018]; root of context hierarchy
2018-10-24T04:40:07.069Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:40:07.072Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:40:07.073Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:40:07.220Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:40:08.318Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6bf1747a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:40:09.137Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:40:09.156Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:40:09.173Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:40:09.174Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:40:09.192Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:40:09.301Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:40:09.301Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3386 ms
2018-10-24T04:40:09.754Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:40:09.987Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:40:09.988Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:40:09.988Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:40:09.988Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:40:09.988Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:40:09.989Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:40:09.989Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:40:09.989Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:40:10.210Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:40:10.220Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:40:10.326Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:40:10.335Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:40:10.468Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.073s)
2018-10-24T04:40:10.493Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:40:10.494Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:40:10.669Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:40:10.798Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:40:10.800Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:40:10.880Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:40:11.213Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:40:11.332Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:40:11.334Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@54361a9
2018-10-24T04:40:11.550Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:40:11.554Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:40:12.254Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:40:13.392Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:40:15.958Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:40:15.966Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:40:15.967Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:40:15.978Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:40:15.980Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:40:16.001Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:40:16.003Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:40:26.922Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2465 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:40:26.930Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:40:26.998Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@39fb3ab6: startup date [Wed Oct 24 04:40:26 UTC 2018]; root of context hierarchy
2018-10-24T04:40:28.147Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:40:28.150Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:40:28.150Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:40:28.295Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:40:29.381Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fd9121c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:40:30.240Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:40:30.262Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:40:30.282Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:40:30.284Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:40:30.302Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:40:30.420Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:40:30.420Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3425 ms
2018-10-24T04:40:30.866Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:40:31.078Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:40:31.079Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:40:31.079Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:40:31.079Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:40:31.079Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:40:31.079Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:40:31.080Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:40:31.080Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:40:31.315Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:40:31.326Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:40:31.428Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:40:31.437Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:40:31.571Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.073s)
2018-10-24T04:40:31.592Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:40:31.593Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:40:31.772Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:40:31.904Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:40:31.906Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:40:31.968Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:40:32.297Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:40:32.424Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:40:32.426Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@71104a4
2018-10-24T04:40:32.643Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:40:32.646Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:40:33.351Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:40:34.473Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:40:36.999Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:40:37.003Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:40:37.003Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:40:37.011Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:40:37.014Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:40:37.032Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:40:37.034Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:40:48.165Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2532 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:40:48.173Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:40:48.299Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2669b199: startup date [Wed Oct 24 04:40:48 UTC 2018]; root of context hierarchy
2018-10-24T04:40:49.337Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:40:49.339Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:40:49.339Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:40:49.481Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:40:50.573Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$37d57735] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:40:51.388Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:40:51.408Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:40:51.425Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:40:51.426Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:40:51.443Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:40:51.546Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:40:51.546Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3250 ms
2018-10-24T04:40:51.979Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:40:52.191Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:40:52.191Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:40:52.191Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:40:52.191Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:40:52.192Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:40:52.192Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:40:52.192Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:40:52.192Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:40:52.417Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:40:52.428Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:40:52.530Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:40:52.541Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:40:52.654Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T04:40:52.674Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:40:52.675Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:40:52.851Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:40:52.980Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:40:52.983Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:40:53.043Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:40:53.384Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:40:53.514Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:40:53.516Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@293bb8a5
2018-10-24T04:40:53.741Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:40:53.744Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:40:54.456Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:40:55.578Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:40:58.075Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:40:58.078Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:40:58.079Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:40:58.087Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:40:58.089Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:40:58.117Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:40:58.119Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:41:09.353Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2598 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:41:09.360Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:41:09.443Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@66d2e7d9: startup date [Wed Oct 24 04:41:09 UTC 2018]; root of context hierarchy
2018-10-24T04:41:10.447Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:41:10.449Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:41:10.450Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:41:10.598Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:41:11.668Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d9705faa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:41:12.470Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:41:12.490Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:41:12.507Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:41:12.508Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:41:12.524Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:41:12.627Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:41:12.627Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3188 ms
2018-10-24T04:41:13.077Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:41:13.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:41:13.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:41:13.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:41:13.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:41:13.285Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:41:13.285Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:41:13.285Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:41:13.285Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:41:13.514Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:41:13.525Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:41:13.632Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:41:13.642Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:41:13.782Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.075s)
2018-10-24T04:41:13.798Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:41:13.798Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:41:13.969Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:41:14.097Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:41:14.100Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:41:14.160Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:41:14.505Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:41:14.663Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:41:14.665Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@290b1b2e
2018-10-24T04:41:14.884Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:41:14.887Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:41:15.593Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:41:16.730Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:41:19.287Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:41:19.290Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:41:19.291Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:41:19.312Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:41:19.315Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:41:19.334Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:41:19.336Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:41:30.400Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2669 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:41:30.407Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:41:30.494Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7c0e2abd: startup date [Wed Oct 24 04:41:30 UTC 2018]; root of context hierarchy
2018-10-24T04:41:31.694Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:41:31.696Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:41:31.697Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:41:31.835Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:41:32.924Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$67391f78] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:41:33.727Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:41:33.747Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:41:33.764Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:41:33.765Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:41:33.781Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:41:33.885Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:41:33.885Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3395 ms
2018-10-24T04:41:34.301Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:41:34.510Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:41:34.510Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:41:34.511Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:41:34.511Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:41:34.511Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:41:34.511Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:41:34.511Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:41:34.511Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:41:34.738Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:41:34.749Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:41:34.857Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:41:34.867Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:41:34.981Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.054s)
2018-10-24T04:41:35.002Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:41:35.003Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:41:35.175Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:41:35.305Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:41:35.307Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:41:35.382Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:41:35.720Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:41:35.838Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:41:35.840Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@209775a9
2018-10-24T04:41:36.054Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:41:36.057Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:41:36.763Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:41:37.951Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:41:40.764Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:41:40.767Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:41:40.771Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:41:40.785Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:41:40.787Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:41:40.814Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:41:40.816Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:41:51.538Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2739 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:41:51.545Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:41:51.673Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5cc7c2a6: startup date [Wed Oct 24 04:41:51 UTC 2018]; root of context hierarchy
2018-10-24T04:41:52.892Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:41:52.894Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:41:52.895Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:41:53.034Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:41:54.048Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$46018fd9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:41:54.868Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:41:54.888Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:41:54.905Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:41:54.906Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:41:54.923Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:41:55.037Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:41:55.037Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3367 ms
2018-10-24T04:41:55.454Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:41:55.659Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:41:55.661Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:41:55.661Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:41:55.661Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:41:55.661Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:41:55.661Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:41:55.661Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:41:55.662Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:41:55.892Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:41:55.903Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:41:56.005Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:41:56.014Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:41:56.149Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.077s)
2018-10-24T04:41:56.171Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:41:56.172Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:41:56.341Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:41:56.471Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:41:56.474Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:41:56.533Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:41:56.871Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:41:57.014Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:41:57.016Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@332a7fce
2018-10-24T04:41:57.233Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:41:57.236Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:41:57.944Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:41:59.104Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:42:01.712Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:42:01.717Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:42:01.718Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:42:01.726Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:42:01.730Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:42:01.755Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:42:01.759Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:42:12.657Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2855 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:42:12.723Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:42:12.789Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7946e1f4: startup date [Wed Oct 24 04:42:12 UTC 2018]; root of context hierarchy
2018-10-24T04:42:13.798Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:42:13.800Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:42:13.801Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:42:13.949Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:42:15.030Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2ef81ace] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:42:15.821Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:42:15.843Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:42:15.861Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:42:15.862Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:42:15.878Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:42:15.986Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:42:16.008Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3222 ms
2018-10-24T04:42:16.423Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:42:16.683Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:42:16.684Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:42:16.684Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:42:16.684Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:42:16.684Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:42:16.684Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:42:16.685Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:42:16.685Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:42:16.937Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:42:16.949Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:42:17.059Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:42:17.069Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:42:17.184Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T04:42:17.214Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:42:17.215Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:42:17.387Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:42:17.518Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:42:17.520Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:42:17.582Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:42:17.939Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:42:18.088Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:42:18.089Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@72f46e16
2018-10-24T04:42:18.300Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:42:18.303Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:42:19.012Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:42:20.121Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:42:22.538Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:42:22.542Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:42:22.543Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:42:22.556Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:42:22.558Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:42:22.576Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:42:22.577Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:42:33.765Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2924 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:42:33.773Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:42:33.919Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2096442d: startup date [Wed Oct 24 04:42:33 UTC 2018]; root of context hierarchy
2018-10-24T04:42:34.992Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:42:34.995Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:42:34.995Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:42:35.146Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:42:36.257Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc3e9ee1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:42:37.079Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:42:37.099Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:42:37.117Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:42:37.118Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:42:37.135Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:42:37.243Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:42:37.243Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3328 ms
2018-10-24T04:42:37.736Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:42:38.069Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:42:38.069Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:42:38.070Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:42:38.070Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:42:38.070Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:42:38.070Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:42:38.070Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:42:38.070Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:42:38.344Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:42:38.356Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:42:38.462Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:42:38.471Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:42:38.586Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.055s)
2018-10-24T04:42:38.606Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:42:38.606Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:42:38.788Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:42:38.922Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:42:38.925Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:42:38.989Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:42:39.355Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:42:39.484Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:42:39.490Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@61078690
2018-10-24T04:42:39.721Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:42:39.724Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:42:40.470Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:42:41.589Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:42:44.084Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:42:44.087Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:42:44.088Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:42:44.097Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:42:44.099Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:42:44.118Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:42:44.120Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:42:54.846Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 2990 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:42:54.854Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:42:54.985Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5cc7c2a6: startup date [Wed Oct 24 04:42:54 UTC 2018]; root of context hierarchy
2018-10-24T04:42:56.128Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:42:56.130Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:42:56.131Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:42:56.273Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:42:57.351Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fc1bb85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:42:58.158Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:42:58.178Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:42:58.196Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:42:58.197Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:42:58.212Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:42:58.308Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:42:58.308Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3326 ms
2018-10-24T04:42:58.749Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:42:58.953Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:42:58.953Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:42:58.953Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:42:58.953Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:42:58.954Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:42:58.954Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:42:58.954Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:42:58.954Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:42:59.179Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:42:59.190Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:42:59.296Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:42:59.306Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:42:59.418Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T04:42:59.441Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:42:59.442Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:42:59.615Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:42:59.743Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:42:59.745Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:42:59.803Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:43:00.152Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:43:00.275Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:43:00.277Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@549621f3
2018-10-24T04:43:00.498Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:43:00.502Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:43:01.226Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:43:02.311Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:43:04.700Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:43:04.704Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:43:04.704Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:43:04.715Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:43:04.717Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:43:04.736Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:43:04.738Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:43:16.024Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3057 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:43:16.033Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:43:16.159Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7f560810: startup date [Wed Oct 24 04:43:16 UTC 2018]; root of context hierarchy
2018-10-24T04:43:17.214Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:43:17.216Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:43:17.216Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:43:17.356Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:43:18.448Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1e930cf8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:43:19.294Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:43:19.314Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:43:19.332Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:43:19.333Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:43:19.348Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:43:19.457Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:43:19.458Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3302 ms
2018-10-24T04:43:19.889Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:43:20.100Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:43:20.100Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:43:20.100Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:43:20.100Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:43:20.101Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:43:20.101Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:43:20.101Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:43:20.101Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:43:20.352Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:43:20.363Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:43:20.469Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:43:20.478Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:43:20.614Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.073s)
2018-10-24T04:43:20.630Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:43:20.630Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:43:20.810Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:43:20.939Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:43:20.961Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:43:21.022Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:43:21.366Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:43:21.496Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:43:21.498Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@314b8f2d
2018-10-24T04:43:21.717Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:43:21.721Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:43:22.438Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:43:23.536Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:43:25.955Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:43:25.977Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:43:25.978Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:43:25.992Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:43:25.995Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:43:26.013Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:43:26.015Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:43:37.191Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3124 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:43:37.199Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:43:37.316Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5cc7c2a6: startup date [Wed Oct 24 04:43:37 UTC 2018]; root of context hierarchy
2018-10-24T04:43:38.438Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:43:38.440Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:43:38.441Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:43:38.570Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:43:39.610Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$46018fd9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:43:40.380Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:43:40.401Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:43:40.418Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:43:40.419Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:43:40.435Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:43:40.554Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:43:40.554Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3241 ms
2018-10-24T04:43:41.004Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:43:41.238Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:43:41.238Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:43:41.238Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:43:41.238Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:43:41.239Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:43:41.239Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:43:41.239Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:43:41.239Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:43:41.486Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:43:41.498Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:43:41.606Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:43:41.616Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:43:41.789Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.113s)
2018-10-24T04:43:41.808Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:43:41.809Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:43:41.988Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:43:42.115Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:43:42.117Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:43:42.174Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:43:42.503Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:43:42.640Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:43:42.641Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@332a7fce
2018-10-24T04:43:42.851Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:43:42.854Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:43:43.582Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:43:44.731Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:43:47.124Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:43:47.128Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:43:47.128Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:43:47.138Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:43:47.143Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:43:47.166Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:43:47.167Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:43:58.282Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3190 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:43:58.290Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:43:58.407Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3dd3bcd: startup date [Wed Oct 24 04:43:58 UTC 2018]; root of context hierarchy
2018-10-24T04:43:59.452Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:43:59.454Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:43:59.455Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:43:59.596Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:44:00.683Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$26bc242f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:44:01.497Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:44:01.516Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:44:01.533Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:44:01.534Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:44:01.551Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:44:01.662Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:44:01.662Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3258 ms
2018-10-24T04:44:02.077Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:44:02.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:44:02.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:44:02.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:44:02.285Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:44:02.285Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:44:02.285Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:44:02.285Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:44:02.285Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:44:02.503Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:44:02.514Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:44:02.617Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:44:02.626Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:44:02.737Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:44:02.765Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:44:02.766Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:44:02.943Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:44:03.080Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:44:03.084Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:44:03.149Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:44:03.487Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:44:03.633Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:44:03.635Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@361c294e
2018-10-24T04:44:03.848Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:44:03.851Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:44:04.558Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:44:05.620Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:44:08.168Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:44:08.171Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:44:08.171Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:44:08.180Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:44:08.183Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:44:08.212Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:44:08.214Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:44:19.321Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3257 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:44:19.329Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:44:19.443Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4590c9c3: startup date [Wed Oct 24 04:44:19 UTC 2018]; root of context hierarchy
2018-10-24T04:44:20.451Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:44:20.453Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:44:20.454Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:44:20.596Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:44:21.660Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c775000] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:44:22.473Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:44:22.494Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:44:22.511Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:44:22.512Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:44:22.528Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:44:22.630Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:44:22.630Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3190 ms
2018-10-24T04:44:23.048Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:44:23.256Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:44:23.256Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:44:23.256Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:44:23.256Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:44:23.257Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:44:23.257Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:44:23.257Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:44:23.257Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:44:23.481Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:44:23.492Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:44:23.596Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:44:23.605Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:44:23.716Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T04:44:23.740Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:44:23.740Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:44:23.919Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:44:24.053Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:44:24.075Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:44:24.137Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:44:24.501Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:44:24.635Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:44:24.637Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@32232e55
2018-10-24T04:44:24.851Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:44:24.854Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:44:25.544Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:44:26.680Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:44:29.090Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:44:29.114Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:44:29.114Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:44:29.126Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:44:29.129Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:44:29.147Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:44:29.149Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:44:40.571Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3325 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:44:40.583Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:44:40.707Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c756e4d: startup date [Wed Oct 24 04:44:40 UTC 2018]; root of context hierarchy
2018-10-24T04:44:41.736Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:44:41.738Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:44:41.738Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:44:41.882Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:44:42.962Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a0447b25] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:44:43.749Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:44:43.768Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:44:43.788Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:44:43.790Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:44:43.809Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:44:43.917Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:44:43.918Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3213 ms
2018-10-24T04:44:44.341Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:44:44.551Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:44:44.551Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:44:44.552Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:44:44.552Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:44:44.552Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:44:44.552Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:44:44.552Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:44:44.553Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:44:44.786Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:44:44.797Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:44:44.900Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:44:44.909Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:44:45.037Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.070s)
2018-10-24T04:44:45.060Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:44:45.062Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:44:45.240Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:44:45.369Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:44:45.372Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:44:45.432Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:44:45.798Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:44:45.993Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:44:45.994Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5db4c359
2018-10-24T04:44:46.214Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:44:46.218Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:44:46.921Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:44:48.072Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:44:50.669Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:44:50.673Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:44:50.674Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:44:50.688Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:44:50.691Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:44:50.710Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:44:50.712Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:45:01.716Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3392 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:45:01.726Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:45:01.792Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61dc03ce: startup date [Wed Oct 24 04:45:01 UTC 2018]; root of context hierarchy
2018-10-24T04:45:02.961Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:45:02.964Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:45:02.964Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:45:03.102Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:45:04.166Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4febe7b1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:45:04.961Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:45:04.986Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:45:05.006Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:45:05.007Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:45:05.023Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:45:05.129Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:45:05.129Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3340 ms
2018-10-24T04:45:05.550Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:45:05.760Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:45:05.761Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:45:05.761Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:45:05.761Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:45:05.761Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:45:05.761Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:45:05.762Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:45:05.762Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:45:05.991Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:45:06.002Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:45:06.107Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:45:06.116Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:45:06.247Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.066s)
2018-10-24T04:45:06.265Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:45:06.266Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:45:06.433Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:45:06.560Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:45:06.562Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:45:06.622Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:45:06.968Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:45:07.089Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:45:07.091Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@71c5b236
2018-10-24T04:45:07.326Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:45:07.332Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:45:08.037Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:45:09.134Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:45:11.590Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:45:11.594Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:45:11.594Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:45:11.603Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:45:11.606Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:45:11.624Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:45:11.626Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:45:22.904Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3470 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:45:22.912Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:45:22.986Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@26f67b76: startup date [Wed Oct 24 04:45:22 UTC 2018]; root of context hierarchy
2018-10-24T04:45:24.048Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:45:24.050Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:45:24.051Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:45:24.190Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:45:25.270Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1e930cf8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:45:26.129Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:45:26.150Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:45:26.167Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:45:26.168Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:45:26.187Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:45:26.294Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:45:26.294Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3312 ms
2018-10-24T04:45:26.705Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:45:26.914Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:45:26.914Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:45:26.914Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:45:26.915Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:45:26.915Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:45:26.915Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:45:26.915Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:45:26.915Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:45:27.147Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:45:27.158Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:45:27.263Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:45:27.272Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:45:27.385Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T04:45:27.402Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:45:27.403Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:45:27.582Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:45:27.715Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:45:27.718Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:45:27.780Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:45:28.135Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:45:28.279Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:45:28.281Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7859e786
2018-10-24T04:45:28.507Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:45:28.511Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:45:29.229Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:45:30.410Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:45:32.837Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:45:32.842Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:45:32.842Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:45:32.852Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:45:32.855Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:45:32.885Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:45:32.888Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:45:43.976Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3539 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:45:43.983Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:45:44.137Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c756e4d: startup date [Wed Oct 24 04:45:44 UTC 2018]; root of context hierarchy
2018-10-24T04:45:45.264Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:45:45.266Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:45:45.267Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:45:45.411Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:45:46.510Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6868888a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:45:47.338Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:45:47.358Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:45:47.375Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:45:47.376Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:45:47.392Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:45:47.496Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:45:47.496Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3363 ms
2018-10-24T04:45:47.953Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:45:48.153Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:45:48.154Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:45:48.154Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:45:48.154Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:45:48.154Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:45:48.154Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:45:48.154Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:45:48.155Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:45:48.375Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:45:48.386Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:45:48.497Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:45:48.507Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:45:48.623Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T04:45:48.639Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:45:48.639Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:45:48.813Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:45:48.946Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:45:48.948Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:45:49.010Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:45:49.369Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:45:49.499Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:45:49.501Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2c177f9e
2018-10-24T04:45:49.723Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:45:49.726Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:45:50.428Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:45:51.545Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:45:53.937Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:45:53.941Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:45:53.942Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:45:53.961Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:45:53.963Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:45:53.981Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:45:53.983Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:46:05.081Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3606 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:46:05.089Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:46:05.233Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6574b225: startup date [Wed Oct 24 04:46:05 UTC 2018]; root of context hierarchy
2018-10-24T04:46:06.267Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:46:06.269Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:46:06.269Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:46:06.410Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:46:07.491Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7658d085] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:46:08.351Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:46:08.375Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:46:08.394Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:46:08.395Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:46:08.412Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:46:08.516Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:46:08.517Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3286 ms
2018-10-24T04:46:08.938Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:46:09.263Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:46:09.263Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:46:09.264Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:46:09.264Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:46:09.264Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:46:09.264Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:46:09.264Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:46:09.264Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:46:09.567Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:46:09.579Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:46:09.690Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:46:09.700Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:46:09.814Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T04:46:09.830Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:46:09.831Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:46:10.014Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:46:10.149Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:46:10.151Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:46:10.215Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:46:10.597Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:46:10.736Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:46:10.738Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@37ebc9d8
2018-10-24T04:46:10.956Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:46:10.959Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:46:11.678Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:46:12.784Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:46:15.313Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:46:15.318Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:46:15.318Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:46:15.358Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:46:15.361Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:46:15.379Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:46:15.381Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:46:26.210Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3672 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:46:26.217Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:46:26.347Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61a485d2: startup date [Wed Oct 24 04:46:26 UTC 2018]; root of context hierarchy
2018-10-24T04:46:27.409Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:46:27.411Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:46:27.412Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:46:27.563Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:46:28.658Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$24a377ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:46:29.497Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:46:29.517Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:46:29.535Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:46:29.536Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:46:29.551Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:46:29.652Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:46:29.652Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3308 ms
2018-10-24T04:46:30.081Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:46:30.288Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:46:30.289Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:46:30.289Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:46:30.289Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:46:30.290Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:46:30.290Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:46:30.290Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:46:30.290Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:46:30.525Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:46:30.536Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:46:30.645Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:46:30.654Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:46:30.809Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.094s)
2018-10-24T04:46:30.826Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:46:30.827Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:46:30.997Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:46:31.122Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:46:31.124Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:46:31.183Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:46:31.517Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:46:31.634Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:46:31.636Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5af28b27
2018-10-24T04:46:31.862Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:46:31.866Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:46:32.567Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:46:33.678Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:46:36.152Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:46:36.155Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:46:36.156Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:46:36.174Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:46:36.177Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:46:36.256Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:46:36.258Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:46:47.390Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3740 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:46:47.398Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:46:47.474Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b97c004: startup date [Wed Oct 24 04:46:47 UTC 2018]; root of context hierarchy
2018-10-24T04:46:48.600Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:46:48.602Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:46:48.603Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:46:48.739Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:46:49.858Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fc1bb85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:46:50.638Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:46:50.658Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:46:50.677Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:46:50.678Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:46:50.695Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:46:50.806Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:46:50.806Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3336 ms
2018-10-24T04:46:51.230Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:46:51.434Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:46:51.435Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:46:51.435Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:46:51.435Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:46:51.435Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:46:51.436Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:46:51.436Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:46:51.436Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:46:51.658Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:46:51.668Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:46:51.787Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:46:51.796Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:46:51.948Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.090s)
2018-10-24T04:46:51.965Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:46:51.966Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:46:52.148Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:46:52.280Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:46:52.282Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:46:52.344Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:46:52.684Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:46:52.805Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:46:52.806Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@549621f3
2018-10-24T04:46:53.024Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:46:53.027Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:46:53.743Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:46:54.865Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:46:57.603Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:46:57.606Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:46:57.607Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:46:57.616Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:46:57.619Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:46:57.636Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:46:57.638Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:47:08.466Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3806 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:47:08.476Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:47:08.545Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c09711b: startup date [Wed Oct 24 04:47:08 UTC 2018]; root of context hierarchy
2018-10-24T04:47:09.736Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:47:09.738Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:47:09.739Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:47:09.868Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:47:10.913Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3ad78d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:47:11.697Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:47:11.718Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:47:11.736Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:47:11.737Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:47:11.754Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:47:11.852Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:47:11.852Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3310 ms
2018-10-24T04:47:12.314Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:47:12.520Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:47:12.520Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:47:12.521Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:47:12.521Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:47:12.521Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:47:12.521Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:47:12.521Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:47:12.521Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:47:12.760Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:47:12.772Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:47:12.889Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:47:12.899Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:47:13.034Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.071s)
2018-10-24T04:47:13.053Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:47:13.055Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:47:13.226Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:47:13.353Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:47:13.355Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:47:13.415Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:47:13.757Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:47:13.882Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:47:13.884Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3c9168dc
2018-10-24T04:47:14.101Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:47:14.104Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:47:14.838Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:47:16.006Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:47:18.464Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:47:18.467Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:47:18.468Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:47:18.476Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:47:18.478Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:47:18.501Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:47:18.503Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:47:29.627Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3875 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:47:29.635Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:47:29.758Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@174d20a: startup date [Wed Oct 24 04:47:29 UTC 2018]; root of context hierarchy
2018-10-24T04:47:30.915Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:47:30.917Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:47:30.918Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:47:31.060Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:47:32.162Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3523b09b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:47:32.965Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:47:32.985Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:47:33.002Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:47:33.003Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:47:33.019Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:47:33.152Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:47:33.153Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3402 ms
2018-10-24T04:47:33.601Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:47:33.806Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:47:33.807Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:47:33.807Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:47:33.807Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:47:33.808Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:47:33.808Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:47:33.808Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:47:33.808Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:47:34.032Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:47:34.043Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:47:34.150Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:47:34.159Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:47:34.269Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:47:34.285Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:47:34.286Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:47:34.459Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:47:34.588Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:47:34.590Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:47:34.650Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:47:35.004Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:47:35.131Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:47:35.133Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1fc0053e
2018-10-24T04:47:35.354Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:47:35.357Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:47:36.078Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:47:37.178Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:47:39.585Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:47:39.590Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:47:39.630Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:47:39.637Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:47:39.642Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:47:39.666Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:47:39.668Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:47:50.807Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 3942 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:47:50.814Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:47:50.951Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2cb4c3ab: startup date [Wed Oct 24 04:47:50 UTC 2018]; root of context hierarchy
2018-10-24T04:47:52.030Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:47:52.038Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:47:52.039Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:47:52.174Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:47:53.230Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2aede8aa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:47:54.015Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:47:54.034Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:47:54.050Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:47:54.051Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:47:54.067Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:47:54.181Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:47:54.181Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3234 ms
2018-10-24T04:47:54.613Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:47:54.823Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:47:54.823Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:47:54.823Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:47:54.823Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:47:54.824Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:47:54.824Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:47:54.824Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:47:54.824Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:47:55.061Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:47:55.072Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:47:55.185Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:47:55.195Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:47:55.307Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T04:47:55.325Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:47:55.326Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:47:55.495Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:47:55.626Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:47:55.628Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:47:55.689Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:47:56.035Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:47:56.154Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:47:56.156Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@669513d8
2018-10-24T04:47:56.380Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:47:56.383Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:47:57.101Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:47:58.228Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:48:00.784Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:48:00.788Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:48:00.788Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:48:00.798Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:48:00.802Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:48:00.828Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:48:00.831Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:48:11.901Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4008 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:48:11.908Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:48:12.033Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@402f32ff: startup date [Wed Oct 24 04:48:12 UTC 2018]; root of context hierarchy
2018-10-24T04:48:13.032Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:48:13.034Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:48:13.035Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:48:13.174Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:48:14.269Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$67391f78] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:48:15.063Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:48:15.083Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:48:15.101Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:48:15.102Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:48:15.118Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:48:15.212Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:48:15.212Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3182 ms
2018-10-24T04:48:15.706Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:48:15.940Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:48:15.941Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:48:15.941Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:48:15.941Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:48:15.941Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:48:15.941Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:48:15.942Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:48:15.942Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:48:16.186Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:48:16.197Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:48:16.304Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:48:16.314Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:48:16.424Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T04:48:16.443Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:48:16.444Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:48:16.622Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:48:16.749Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:48:16.751Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:48:16.811Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:48:17.149Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:48:17.269Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:48:17.271Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@f9b7332
2018-10-24T04:48:17.495Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:48:17.498Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:48:18.200Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:48:19.410Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:48:22.042Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:48:22.046Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:48:22.047Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:48:22.082Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:48:22.085Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:48:22.102Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:48:22.104Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:48:32.961Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4076 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:48:32.970Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:48:33.108Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59e84876: startup date [Wed Oct 24 04:48:33 UTC 2018]; root of context hierarchy
2018-10-24T04:48:34.173Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:48:34.175Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:48:34.176Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:48:34.321Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:48:35.365Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fd9121c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:48:36.133Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:48:36.156Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:48:36.188Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:48:36.190Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:48:36.215Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:48:36.335Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:48:36.336Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3232 ms
2018-10-24T04:48:36.749Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:48:36.953Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:48:36.954Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:48:36.954Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:48:36.954Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:48:36.954Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:48:36.954Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:48:36.955Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:48:36.955Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:48:37.175Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:48:37.186Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:48:37.292Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:48:37.302Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:48:37.439Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.073s)
2018-10-24T04:48:37.455Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:48:37.456Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:48:37.630Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:48:37.760Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:48:37.763Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:48:37.822Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:48:38.158Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:48:38.281Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:48:38.283Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a3e3e8b
2018-10-24T04:48:38.504Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:48:38.508Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:48:39.227Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:48:40.373Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:48:42.886Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:48:42.890Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:48:42.890Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:48:42.926Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:48:42.928Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:48:42.947Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:48:42.950Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:48:54.108Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4142 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:48:54.117Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:48:54.237Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@9f70c54: startup date [Wed Oct 24 04:48:54 UTC 2018]; root of context hierarchy
2018-10-24T04:48:55.426Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:48:55.428Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:48:55.429Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:48:55.581Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:48:56.664Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a013e4d0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:48:57.456Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:48:57.478Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:48:57.496Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:48:57.497Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:48:57.513Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:48:57.618Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:48:57.618Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3384 ms
2018-10-24T04:48:58.069Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:48:58.283Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:48:58.283Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:48:58.283Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:48:58.283Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:48:58.284Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:48:58.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:48:58.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:48:58.284Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:48:58.519Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:48:58.531Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:48:58.637Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:48:58.647Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:48:58.754Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:48:58.774Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:48:58.775Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:48:58.952Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:48:59.079Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:48:59.081Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:48:59.143Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:48:59.490Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:48:59.615Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:48:59.617Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7f69d591
2018-10-24T04:48:59.839Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:48:59.842Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:49:00.573Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:49:01.694Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:49:04.141Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:49:04.145Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:49:04.146Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:49:04.153Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:49:04.155Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:49:04.176Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:49:04.178Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:49:15.224Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4208 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:49:15.232Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:49:15.354Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5cc7c2a6: startup date [Wed Oct 24 04:49:15 UTC 2018]; root of context hierarchy
2018-10-24T04:49:16.447Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:49:16.449Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:49:16.450Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:49:16.594Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:49:17.693Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2fc1bb85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:49:18.515Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:49:18.537Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:49:18.558Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:49:18.559Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:49:18.580Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:49:18.699Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:49:18.699Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3348 ms
2018-10-24T04:49:19.145Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:49:19.347Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:49:19.348Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:49:19.348Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:49:19.348Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:49:19.348Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:49:19.348Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:49:19.348Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:49:19.348Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:49:19.579Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:49:19.591Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:49:19.699Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:49:19.708Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:49:19.844Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.077s)
2018-10-24T04:49:19.863Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:49:19.863Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:49:20.032Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:49:20.165Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:49:20.168Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:49:20.229Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:49:20.584Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:49:20.718Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:49:20.720Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@549621f3
2018-10-24T04:49:20.941Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:49:20.944Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:49:21.665Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:49:22.757Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:49:25.199Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:49:25.203Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:49:25.203Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:49:25.223Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:49:25.225Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:49:25.286Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:49:25.288Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:49:36.395Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4277 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:49:36.404Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:49:36.525Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2669b199: startup date [Wed Oct 24 04:49:36 UTC 2018]; root of context hierarchy
2018-10-24T04:49:37.600Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:49:37.602Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:49:37.603Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:49:37.748Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:49:38.821Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b5098f3b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:49:39.600Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:49:39.621Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:49:39.638Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:49:39.639Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:49:39.655Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:49:39.752Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:49:39.752Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3231 ms
2018-10-24T04:49:40.168Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:49:40.389Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:49:40.390Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:49:40.390Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:49:40.390Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:49:40.390Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:49:40.390Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:49:40.391Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:49:40.391Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:49:40.623Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:49:40.634Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:49:40.738Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:49:40.747Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:49:40.862Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.056s)
2018-10-24T04:49:40.881Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:49:40.881Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:49:41.057Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:49:41.186Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:49:41.188Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:49:41.248Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:49:41.584Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:49:41.713Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:49:41.714Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2416a51
2018-10-24T04:49:41.935Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:49:41.938Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:49:42.653Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:49:43.787Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:49:46.226Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:49:46.231Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:49:46.232Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:49:46.241Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:49:46.243Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:49:46.262Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:49:46.264Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:49:57.568Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4343 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:49:57.577Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:49:57.709Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6276ae34: startup date [Wed Oct 24 04:49:57 UTC 2018]; root of context hierarchy
2018-10-24T04:49:58.789Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:49:58.791Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:49:58.824Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:49:58.968Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:50:00.026Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3ad78d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:50:00.830Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:50:00.849Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:50:00.866Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:50:00.867Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:50:00.883Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:50:00.990Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:50:00.990Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3286 ms
2018-10-24T04:50:01.468Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:50:01.676Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:50:01.677Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:50:01.677Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:50:01.677Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:50:01.678Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:50:01.678Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:50:01.678Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:50:01.678Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:50:01.905Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:50:01.918Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:50:02.019Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:50:02.028Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:50:02.132Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:50:02.154Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:50:02.156Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:50:02.332Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:50:02.457Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:50:02.459Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:50:02.518Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:50:02.848Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:50:02.988Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:50:02.989Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4985cbcb
2018-10-24T04:50:03.204Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:50:03.207Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:50:03.917Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:50:04.998Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:50:07.387Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:50:07.391Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:50:07.391Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:50:07.436Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:50:07.439Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:50:07.459Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:50:07.461Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:50:18.720Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4411 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:50:18.728Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:50:18.867Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4de8b406: startup date [Wed Oct 24 04:50:18 UTC 2018]; root of context hierarchy
2018-10-24T04:50:19.928Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:50:19.931Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:50:19.931Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:50:20.067Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:50:21.138Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$788ca378] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:50:21.955Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:50:21.979Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:50:22.004Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:50:22.006Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:50:22.023Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:50:22.118Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:50:22.119Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3254 ms
2018-10-24T04:50:22.568Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:50:22.767Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:50:22.768Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:50:22.768Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:50:22.768Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:50:22.768Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:50:22.769Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:50:22.769Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:50:22.769Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:50:22.995Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:50:23.006Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:50:23.110Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:50:23.120Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:50:23.226Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:50:23.244Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:50:23.245Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:50:23.415Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:50:23.538Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:50:23.540Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:50:23.598Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:50:23.943Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:50:24.070Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:50:24.071Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2c177f9e
2018-10-24T04:50:24.282Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:50:24.285Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:50:25.011Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:50:26.097Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:50:28.645Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:50:28.648Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:50:28.649Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:50:28.657Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:50:28.660Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:50:28.679Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:50:28.681Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:50:39.761Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4478 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:50:39.769Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:50:39.887Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@458ad742: startup date [Wed Oct 24 04:50:39 UTC 2018]; root of context hierarchy
2018-10-24T04:50:40.981Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:50:40.983Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:50:40.984Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:50:41.121Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:50:42.205Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea2451b7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:50:43.023Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:50:43.043Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:50:43.060Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:50:43.061Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:50:43.078Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:50:43.191Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:50:43.191Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3307 ms
2018-10-24T04:50:43.606Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:50:43.827Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:50:43.827Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:50:43.827Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:50:43.827Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:50:43.828Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:50:43.828Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:50:43.828Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:50:43.828Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:50:44.059Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:50:44.070Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:50:44.180Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:50:44.190Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:50:44.301Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T04:50:44.323Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:50:44.324Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:50:44.511Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:50:44.640Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:50:44.642Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:50:44.702Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:50:45.043Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:50:45.165Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:50:45.167Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6fa590ba
2018-10-24T04:50:45.376Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:50:45.379Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:50:46.085Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:50:47.167Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:50:49.565Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:50:49.568Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:50:49.569Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:50:49.579Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:50:49.581Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:50:49.603Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:50:49.605Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:51:00.952Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4545 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:51:00.959Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:51:01.028Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@234bef66: startup date [Wed Oct 24 04:51:01 UTC 2018]; root of context hierarchy
2018-10-24T04:51:02.193Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:51:02.196Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:51:02.196Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:51:02.335Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:51:03.446Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a013e4d0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:51:04.291Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:51:04.312Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:51:04.329Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:51:04.330Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:51:04.346Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:51:04.452Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:51:04.452Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3427 ms
2018-10-24T04:51:04.883Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:51:05.105Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:51:05.105Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:51:05.106Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:51:05.106Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:51:05.106Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:51:05.106Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:51:05.106Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:51:05.106Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:51:05.333Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:51:05.344Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:51:05.451Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:51:05.460Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:51:05.582Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.059s)
2018-10-24T04:51:05.603Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:51:05.604Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:51:05.782Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:51:05.911Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:51:05.913Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:51:05.973Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:51:06.308Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:51:06.438Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:51:06.439Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7f69d591
2018-10-24T04:51:06.663Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:51:06.667Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:51:07.377Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:51:08.465Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:51:10.952Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:51:10.955Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:51:10.956Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:51:10.966Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:51:10.968Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:51:10.985Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:51:10.987Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:51:22.221Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4611 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:51:22.228Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:51:22.346Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5056dfcb: startup date [Wed Oct 24 04:51:22 UTC 2018]; root of context hierarchy
2018-10-24T04:51:23.360Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:51:23.362Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:51:23.363Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:51:23.505Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:51:24.575Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7658d085] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:51:25.377Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:51:25.398Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:51:25.419Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:51:25.420Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:51:25.438Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:51:25.542Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:51:25.543Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3200 ms
2018-10-24T04:51:25.969Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:51:26.191Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:51:26.192Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:51:26.192Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:51:26.192Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:51:26.192Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:51:26.193Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:51:26.193Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:51:26.193Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:51:26.502Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:51:26.514Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:51:26.630Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:51:26.640Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:51:26.779Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.071s)
2018-10-24T04:51:26.803Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:51:26.803Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:51:26.986Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:51:27.114Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:51:27.116Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:51:27.174Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:51:27.524Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:51:27.651Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:51:27.653Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@37ebc9d8
2018-10-24T04:51:27.878Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:51:27.881Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:51:28.583Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:51:29.698Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:51:32.099Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:51:32.103Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:51:32.103Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:51:32.114Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:51:32.117Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:51:32.142Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:51:32.144Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:51:43.264Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4679 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:51:43.272Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:51:43.405Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7ca48474: startup date [Wed Oct 24 04:51:43 UTC 2018]; root of context hierarchy
2018-10-24T04:51:44.535Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:51:44.537Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:51:44.538Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:51:44.679Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:51:45.734Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$46d90ddb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:51:46.612Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:51:46.633Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:51:46.650Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:51:46.651Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:51:46.666Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:51:46.777Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:51:46.777Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3376 ms
2018-10-24T04:51:47.218Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:51:47.428Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:51:47.428Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:51:47.429Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:51:47.429Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:51:47.429Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:51:47.429Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:51:47.429Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:51:47.430Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:51:47.660Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:51:47.671Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:51:47.777Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:51:47.786Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:51:47.900Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.054s)
2018-10-24T04:51:47.919Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:51:47.919Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:51:48.096Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:51:48.224Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:51:48.226Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:51:48.285Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:51:48.625Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:51:48.751Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:51:48.753Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7876d598
2018-10-24T04:51:48.976Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:51:48.983Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:51:49.702Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:51:50.821Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:51:53.392Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:51:53.396Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:51:53.396Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:51:53.410Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:51:53.412Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:51:53.431Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:51:53.433Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:52:04.333Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4746 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:52:04.345Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:52:04.413Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@66d2e7d9: startup date [Wed Oct 24 04:52:04 UTC 2018]; root of context hierarchy
2018-10-24T04:52:05.506Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:52:05.508Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:52:05.509Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:52:05.646Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:52:06.703Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d9705faa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:52:07.515Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:52:07.535Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:52:07.551Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:52:07.552Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:52:07.569Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:52:07.667Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:52:07.667Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3257 ms
2018-10-24T04:52:08.084Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:52:08.293Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:52:08.293Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:52:08.293Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:52:08.293Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:52:08.294Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:52:08.294Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:52:08.294Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:52:08.294Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:52:08.555Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:52:08.566Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:52:08.672Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:52:08.682Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:52:08.799Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.054s)
2018-10-24T04:52:08.820Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:52:08.821Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:52:08.991Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:52:09.117Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:52:09.120Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:52:09.178Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:52:09.517Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:52:09.652Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:52:09.654Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@290b1b2e
2018-10-24T04:52:09.874Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:52:09.878Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:52:10.584Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:52:11.656Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:52:14.112Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:52:14.115Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:52:14.116Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:52:14.131Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:52:14.135Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:52:14.175Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:52:14.178Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:52:25.487Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4812 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:52:25.494Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:52:25.622Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7f560810: startup date [Wed Oct 24 04:52:25 UTC 2018]; root of context hierarchy
2018-10-24T04:52:26.651Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:52:26.653Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:52:26.654Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:52:26.794Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:52:27.857Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e612e571] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:52:28.650Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:52:28.670Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:52:28.688Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:52:28.689Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:52:28.705Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:52:28.818Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:52:28.818Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3199 ms
2018-10-24T04:52:29.226Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:52:29.550Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:52:29.550Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:52:29.550Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:52:29.551Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:52:29.551Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:52:29.551Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:52:29.551Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:52:29.551Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:52:29.795Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:52:29.807Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:52:29.911Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:52:29.920Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:52:30.027Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.047s)
2018-10-24T04:52:30.049Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:52:30.050Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:52:30.225Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:52:30.353Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:52:30.356Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:52:30.415Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:52:30.766Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:52:30.900Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:52:30.902Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@314b8f2d
2018-10-24T04:52:31.133Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:52:31.140Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:52:31.860Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:52:32.971Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:52:35.454Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:52:35.457Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:52:35.458Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:52:35.477Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:52:35.480Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:52:35.499Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:52:35.502Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:52:46.608Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4880 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:52:46.615Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:52:46.743Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@13c78c0b: startup date [Wed Oct 24 04:52:46 UTC 2018]; root of context hierarchy
2018-10-24T04:52:47.837Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:52:47.840Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:52:47.840Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:52:47.977Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:52:49.027Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$75873e5b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:52:49.805Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:52:49.824Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:52:49.841Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:52:49.842Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:52:49.857Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:52:49.961Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:52:49.962Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3222 ms
2018-10-24T04:52:50.371Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:52:50.580Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:52:50.580Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:52:50.580Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:52:50.581Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:52:50.581Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:52:50.581Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:52:50.581Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:52:50.581Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:52:50.802Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:52:50.812Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:52:50.918Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:52:50.927Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:52:51.034Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:52:51.054Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:52:51.055Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:52:51.224Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:52:51.349Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:52:51.351Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:52:51.408Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:52:51.742Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:52:51.860Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:52:51.861Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@669513d8
2018-10-24T04:52:52.068Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:52:52.071Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:52:52.754Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:52:53.842Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:52:56.277Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:52:56.281Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:52:56.281Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:52:56.291Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:52:56.294Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:52:56.312Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:52:56.314Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:53:07.799Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 4946 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:53:07.808Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:53:07.940Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6ea12c19: startup date [Wed Oct 24 04:53:07 UTC 2018]; root of context hierarchy
2018-10-24T04:53:08.987Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:53:08.989Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:53:08.989Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:53:09.126Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:53:10.201Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$312be29b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:53:11.004Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:53:11.025Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:53:11.042Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:53:11.043Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:53:11.061Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:53:11.177Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:53:11.178Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3241 ms
2018-10-24T04:53:11.602Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:53:11.808Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:53:11.809Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:53:11.809Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:53:11.809Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:53:11.809Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:53:11.809Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:53:11.809Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:53:11.810Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:53:12.094Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:53:12.106Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:53:12.212Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:53:12.222Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:53:12.343Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.059s)
2018-10-24T04:53:12.362Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:53:12.363Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:53:12.534Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:53:12.659Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:53:12.661Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:53:12.719Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:53:13.049Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:53:13.173Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:53:13.175Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@72e34f77
2018-10-24T04:53:13.387Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:53:13.390Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:53:14.088Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:53:15.189Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:53:17.635Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:53:17.639Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:53:17.639Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:53:17.648Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:53:17.650Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:53:17.670Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:53:17.672Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:53:29.033Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5014 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:53:29.040Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:53:29.119Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12843fce: startup date [Wed Oct 24 04:53:29 UTC 2018]; root of context hierarchy
2018-10-24T04:53:30.143Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:53:30.145Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:53:30.145Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:53:30.286Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:53:31.349Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2aede8aa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:53:32.137Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:53:32.156Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:53:32.173Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:53:32.174Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:53:32.190Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:53:32.301Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:53:32.301Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3186 ms
2018-10-24T04:53:32.745Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:53:32.967Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:53:32.968Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:53:32.968Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:53:32.968Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:53:32.968Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:53:32.968Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:53:32.969Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:53:32.969Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:53:33.216Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:53:33.226Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:53:33.331Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:53:33.340Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:53:33.447Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.047s)
2018-10-24T04:53:33.465Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:53:33.468Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:53:33.650Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:53:33.782Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:53:33.784Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:53:33.844Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:53:34.191Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:53:34.310Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:53:34.311Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a8a60bc
2018-10-24T04:53:34.527Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:53:34.530Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:53:35.248Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:53:36.344Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:53:38.946Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:53:38.950Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:53:38.951Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:53:38.960Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:53:38.962Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:53:38.984Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:53:38.987Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:53:50.016Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5081 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:53:50.025Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:53:50.148Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1efbd816: startup date [Wed Oct 24 04:53:50 UTC 2018]; root of context hierarchy
2018-10-24T04:53:51.199Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:53:51.201Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:53:51.202Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:53:51.347Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:53:52.453Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$788ca378] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:53:53.273Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:53:53.293Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:53:53.310Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:53:53.312Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:53:53.328Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:53:53.434Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:53:53.434Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3289 ms
2018-10-24T04:53:53.868Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:53:54.072Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:53:54.072Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:53:54.073Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:53:54.073Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:53:54.073Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:53:54.073Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:53:54.074Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:53:54.074Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:53:54.301Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:53:54.312Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:53:54.419Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:53:54.428Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:53:54.609Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.045s)
2018-10-24T04:53:54.625Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:53:54.625Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:53:54.793Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:53:54.920Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:53:54.922Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:53:54.981Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:53:55.323Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:53:55.450Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:53:55.452Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@47874b25
2018-10-24T04:53:55.668Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:53:55.672Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:53:56.382Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:53:57.482Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:54:00.019Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:54:00.022Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:54:00.023Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:54:00.048Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:54:00.050Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:54:00.070Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:54:00.072Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:54:11.163Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5147 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:54:11.170Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:54:11.242Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6574b225: startup date [Wed Oct 24 04:54:11 UTC 2018]; root of context hierarchy
2018-10-24T04:54:12.443Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:54:12.445Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:54:12.446Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:54:12.574Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:54:13.626Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1fa8a4f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:54:14.419Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:54:14.439Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:54:14.457Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:54:14.458Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:54:14.475Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:54:14.581Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:54:14.581Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3342 ms
2018-10-24T04:54:15.009Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:54:15.217Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:54:15.217Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:54:15.217Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:54:15.217Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:54:15.218Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:54:15.218Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:54:15.218Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:54:15.218Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:54:15.451Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:54:15.463Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:54:15.568Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:54:15.578Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:54:15.711Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.072s)
2018-10-24T04:54:15.734Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:54:15.736Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:54:15.908Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:54:16.037Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:54:16.039Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:54:16.099Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:54:16.446Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:54:16.567Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:54:16.568Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@32232e55
2018-10-24T04:54:16.793Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:54:16.796Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:54:17.506Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:54:18.602Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:54:20.996Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:54:20.999Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:54:21.000Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:54:21.008Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:54:21.010Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:54:21.027Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:54:21.029Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:54:32.322Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5215 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:54:32.332Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:54:32.451Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@26f67b76: startup date [Wed Oct 24 04:54:32 UTC 2018]; root of context hierarchy
2018-10-24T04:54:33.524Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:54:33.526Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:54:33.526Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:54:33.671Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:54:34.747Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6d7f6bb2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:54:35.566Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:54:35.587Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:54:35.605Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:54:35.606Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:54:35.622Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:54:35.726Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:54:35.726Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3278 ms
2018-10-24T04:54:36.176Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:54:36.386Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:54:36.386Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:54:36.386Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:54:36.386Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:54:36.387Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:54:36.387Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:54:36.387Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:54:36.387Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:54:36.612Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:54:36.623Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:54:36.730Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:54:36.739Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:54:36.900Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.101s)
2018-10-24T04:54:36.920Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:54:36.920Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:54:37.096Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:54:37.225Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:54:37.247Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:54:37.308Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:54:37.650Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:54:37.818Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:54:37.820Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@285d851a
2018-10-24T04:54:38.046Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:54:38.050Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:54:38.761Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:54:39.848Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:54:42.443Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:54:42.463Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:54:42.464Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:54:42.476Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:54:42.480Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:54:42.505Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:54:42.507Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:54:53.476Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5281 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:54:53.483Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:54:53.570Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59e84876: startup date [Wed Oct 24 04:54:53 UTC 2018]; root of context hierarchy
2018-10-24T04:54:54.751Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:54:54.753Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:54:54.753Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:54:54.885Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:54:55.926Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$66f03c3c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:54:56.687Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:54:56.710Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:54:56.738Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:54:56.739Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:54:56.754Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:54:56.850Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:54:56.851Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3292 ms
2018-10-24T04:54:57.264Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:54:57.467Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:54:57.468Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:54:57.468Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:54:57.468Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:54:57.468Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:54:57.468Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:54:57.469Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:54:57.469Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:54:57.693Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:54:57.703Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:54:57.807Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:54:57.815Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:54:57.923Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T04:54:57.942Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:54:57.944Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:54:58.122Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:54:58.247Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:54:58.249Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:54:58.307Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:54:58.661Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:54:58.813Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:54:58.815Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a3e3e8b
2018-10-24T04:54:59.041Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:54:59.047Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:54:59.807Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:55:00.896Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:55:03.324Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:55:03.329Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:55:03.329Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:55:03.341Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:55:03.343Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:55:03.362Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:55:03.364Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:55:14.569Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5351 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:55:14.575Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:55:14.723Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@234bef66: startup date [Wed Oct 24 04:55:14 UTC 2018]; root of context hierarchy
2018-10-24T04:55:15.816Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:55:15.818Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:55:15.819Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:55:15.952Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:55:17.023Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1e6de751] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:55:17.803Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:55:17.823Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:55:17.839Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:55:17.841Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:55:17.858Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:55:17.995Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:55:17.995Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3275 ms
2018-10-24T04:55:18.416Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:55:18.622Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:55:18.623Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:55:18.623Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:55:18.623Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:55:18.623Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:55:18.623Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:55:18.624Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:55:18.624Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:55:18.846Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:55:18.857Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:55:18.960Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:55:18.969Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:55:19.074Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T04:55:19.094Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:55:19.095Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:55:19.276Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:55:19.408Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:55:19.411Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:55:19.475Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:55:19.829Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:55:19.950Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:55:19.952Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@403132fc
2018-10-24T04:55:20.166Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:55:20.169Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:55:20.854Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:55:21.916Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:55:24.439Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:55:24.443Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:55:24.444Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:55:24.454Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:55:24.456Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:55:24.477Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:55:24.479Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:55:35.787Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5420 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:55:35.836Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:55:35.912Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@48eff760: startup date [Wed Oct 24 04:55:35 UTC 2018]; root of context hierarchy
2018-10-24T04:55:37.016Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:55:37.018Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:55:37.019Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:55:37.171Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:55:38.257Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4ca47863] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:55:39.001Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:55:39.023Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:55:39.040Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:55:39.041Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:55:39.088Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:55:39.193Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:55:39.193Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3284 ms
2018-10-24T04:55:39.636Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:55:39.874Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:55:39.875Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:55:39.875Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:55:39.875Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:55:39.876Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:55:39.876Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:55:39.876Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:55:39.876Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:55:40.159Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:55:40.170Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:55:40.285Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:55:40.295Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:55:40.427Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.068s)
2018-10-24T04:55:40.445Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:55:40.445Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:55:40.624Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:55:40.758Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:55:40.764Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:55:40.825Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:55:41.190Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:55:41.375Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:55:41.377Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@18e7143f
2018-10-24T04:55:41.613Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:55:41.620Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:55:42.349Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:55:43.459Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:55:45.975Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:55:45.980Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:55:45.980Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:55:45.995Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:55:45.997Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:55:46.017Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:55:46.019Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:55:56.797Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5486 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:55:56.804Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:55:56.876Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@66d2e7d9: startup date [Wed Oct 24 04:55:56 UTC 2018]; root of context hierarchy
2018-10-24T04:55:57.942Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:55:57.944Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:55:57.945Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:55:58.088Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:55:59.170Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d9705faa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:56:00.003Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:56:00.023Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:56:00.040Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:56:00.041Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:56:00.058Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:56:00.176Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:56:00.177Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3303 ms
2018-10-24T04:56:00.634Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:56:00.955Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:56:00.956Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:56:00.956Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:56:00.956Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:56:00.956Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:56:00.956Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:56:00.956Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:56:00.957Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:56:01.190Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:56:01.200Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:56:01.304Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:56:01.313Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:56:01.417Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.046s)
2018-10-24T04:56:01.438Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:56:01.439Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:56:01.618Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:56:01.746Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:56:01.749Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:56:01.811Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:56:02.153Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:56:02.289Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:56:02.291Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@290b1b2e
2018-10-24T04:56:02.514Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:56:02.518Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:56:03.242Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:56:04.313Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:56:06.762Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:56:06.766Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:56:06.767Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:56:06.780Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:56:06.782Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:56:06.808Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:56:06.810Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:56:18.042Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5553 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:56:18.051Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:56:18.198Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12843fce: startup date [Wed Oct 24 04:56:18 UTC 2018]; root of context hierarchy
2018-10-24T04:56:19.211Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:56:19.213Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:56:19.213Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:56:19.353Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:56:20.436Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9cee548b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:56:21.240Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:56:21.260Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:56:21.277Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:56:21.278Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:56:21.295Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:56:21.397Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:56:21.397Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3202 ms
2018-10-24T04:56:21.809Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:56:22.013Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:56:22.014Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:56:22.014Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:56:22.014Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:56:22.015Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:56:22.015Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:56:22.015Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:56:22.016Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:56:22.298Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:56:22.309Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:56:22.415Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:56:22.424Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:56:22.542Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.060s)
2018-10-24T04:56:22.559Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:56:22.560Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:56:22.732Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:56:22.862Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:56:22.864Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:56:22.923Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:56:23.255Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:56:23.374Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:56:23.376Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4a8a60bc
2018-10-24T04:56:23.589Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:56:23.592Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:56:24.295Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:56:25.361Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:56:27.936Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:56:27.939Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:56:27.940Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:56:27.949Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:56:27.952Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:56:27.969Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:56:27.971Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:56:39.134Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5621 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:56:39.143Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:56:39.262Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61a485d2: startup date [Wed Oct 24 04:56:39 UTC 2018]; root of context hierarchy
2018-10-24T04:56:40.292Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:56:40.294Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:56:40.295Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:56:40.431Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:56:41.497Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$24a377ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:56:42.307Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:56:42.328Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:56:42.344Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:56:42.346Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:56:42.362Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:56:42.465Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:56:42.465Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3206 ms
2018-10-24T04:56:42.912Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:56:43.143Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:56:43.144Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:56:43.144Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:56:43.144Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:56:43.145Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:56:43.145Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:56:43.145Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:56:43.145Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:56:43.382Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:56:43.393Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:56:43.506Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:56:43.516Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:56:43.634Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T04:56:43.651Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:56:43.651Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:56:43.836Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:56:43.963Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:56:43.965Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:56:44.024Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:56:44.366Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:56:44.501Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:56:44.503Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5af28b27
2018-10-24T04:56:44.714Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:56:44.717Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:56:45.443Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:56:46.535Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:56:49.162Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:56:49.165Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:56:49.166Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:56:49.179Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:56:49.181Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:56:49.206Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:56:49.208Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:57:00.376Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5687 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:57:00.382Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:57:00.482Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@32e6e9c3: startup date [Wed Oct 24 04:57:00 UTC 2018]; root of context hierarchy
2018-10-24T04:57:01.576Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:57:01.579Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:57:01.579Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:57:01.745Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:57:02.804Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c5726ea4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:57:03.551Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:57:03.571Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:57:03.588Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:57:03.589Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:57:03.608Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:57:03.716Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:57:03.717Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3237 ms
2018-10-24T04:57:04.194Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:57:04.441Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:57:04.442Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:57:04.442Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:57:04.442Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:57:04.442Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:57:04.442Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:57:04.442Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:57:04.443Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:57:04.681Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:57:04.691Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:57:04.796Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:57:04.806Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:57:04.921Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.057s)
2018-10-24T04:57:04.940Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:57:04.941Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:57:05.123Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:57:05.247Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:57:05.250Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:57:05.307Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:57:05.647Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:57:05.767Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:57:05.768Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5217f3d0
2018-10-24T04:57:05.979Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:57:05.983Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:57:06.686Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:57:07.759Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:57:10.177Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:57:10.181Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:57:10.182Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:57:10.196Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:57:10.199Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:57:10.226Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:57:10.228Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:57:21.392Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5754 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:57:21.400Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:57:21.475Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7f560810: startup date [Wed Oct 24 04:57:21 UTC 2018]; root of context hierarchy
2018-10-24T04:57:22.538Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:57:22.540Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:57:22.540Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:57:22.679Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:57:23.767Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1e930cf8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:57:24.588Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:57:24.609Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:57:24.626Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:57:24.627Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:57:24.642Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:57:24.755Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:57:24.755Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3284 ms
2018-10-24T04:57:25.175Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:57:25.404Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:57:25.404Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:57:25.404Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:57:25.404Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:57:25.405Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:57:25.405Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:57:25.405Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:57:25.405Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:57:25.657Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:57:25.668Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:57:25.772Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:57:25.781Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:57:25.906Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.063s)
2018-10-24T04:57:25.923Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:57:25.924Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:57:26.108Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:57:26.241Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:57:26.243Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:57:26.306Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:57:26.655Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:57:26.791Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:57:26.793Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7859e786
2018-10-24T04:57:27.010Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:57:27.014Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:57:27.748Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:57:28.866Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:57:31.278Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:57:31.282Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:57:31.282Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:57:31.290Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:57:31.292Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:57:31.309Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:57:31.311Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:57:42.510Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5822 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:57:42.518Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:57:42.587Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a024a67: startup date [Wed Oct 24 04:57:42 UTC 2018]; root of context hierarchy
2018-10-24T04:57:43.700Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:57:43.702Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:57:43.703Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:57:43.843Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:57:44.944Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3523b09b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:57:45.785Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:57:45.805Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:57:45.822Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:57:45.823Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:57:45.839Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:57:45.940Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:57:45.940Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3356 ms
2018-10-24T04:57:46.366Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:57:46.588Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:57:46.588Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:57:46.588Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:57:46.589Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:57:46.589Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:57:46.589Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:57:46.589Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:57:46.589Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:57:46.821Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:57:46.832Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:57:46.945Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:57:46.954Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:57:47.069Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T04:57:47.091Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:57:47.091Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:57:47.269Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:57:47.399Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:57:47.402Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:57:47.462Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:57:47.810Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:57:47.978Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:57:47.980Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@389adf1d
2018-10-24T04:57:48.203Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:57:48.206Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:57:48.926Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:57:50.077Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:57:52.573Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:57:52.578Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:57:52.578Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:57:52.592Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:57:52.596Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:57:52.620Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:57:52.622Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:58:03.687Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5889 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:58:03.694Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:58:03.782Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5cc7c2a6: startup date [Wed Oct 24 04:58:03 UTC 2018]; root of context hierarchy
2018-10-24T04:58:04.915Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:58:04.917Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:58:04.918Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:58:05.056Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:58:06.156Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$566ccff9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:58:06.987Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:58:07.007Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:58:07.024Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:58:07.025Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:58:07.041Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:58:07.144Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:58:07.145Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3367 ms
2018-10-24T04:58:07.587Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:58:07.847Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:58:07.847Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:58:07.847Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:58:07.848Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:58:07.848Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:58:07.848Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:58:07.848Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:58:07.848Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:58:08.108Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:58:08.119Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:58:08.227Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:58:08.236Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:58:08.359Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.063s)
2018-10-24T04:58:08.377Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:58:08.377Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:58:08.555Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:58:08.686Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:58:08.688Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:58:08.747Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:58:09.087Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:58:09.212Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:58:09.213Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@332a7fce
2018-10-24T04:58:09.426Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:58:09.429Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:58:10.126Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:58:11.264Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:58:13.674Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:58:13.678Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:58:13.679Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:58:13.689Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:58:13.694Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:58:13.720Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:58:13.722Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:58:24.830Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 5955 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:58:24.839Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:58:24.920Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2669b199: startup date [Wed Oct 24 04:58:24 UTC 2018]; root of context hierarchy
2018-10-24T04:58:25.992Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:58:25.994Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:58:25.995Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:58:26.140Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:58:27.229Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c5726ea4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:58:28.042Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:58:28.062Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:58:28.078Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:58:28.080Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:58:28.096Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:58:28.195Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:58:28.196Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3280 ms
2018-10-24T04:58:28.621Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:58:28.829Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:58:28.830Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:58:28.830Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:58:28.830Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:58:28.830Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:58:28.831Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:58:28.831Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:58:28.831Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:58:29.124Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:58:29.135Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:58:29.242Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:58:29.251Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:58:29.372Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.060s)
2018-10-24T04:58:29.389Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:58:29.390Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:58:29.571Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:58:29.702Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:58:29.705Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:58:29.765Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:58:30.118Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:58:30.257Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:58:30.259Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@293bb8a5
2018-10-24T04:58:30.490Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:58:30.493Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:58:31.229Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:58:32.328Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:58:34.745Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:58:34.749Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:58:34.762Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:58:34.776Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:58:34.779Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:58:34.799Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:58:34.801Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:58:45.993Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6023 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:58:46.000Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:58:46.173Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4590c9c3: startup date [Wed Oct 24 04:58:46 UTC 2018]; root of context hierarchy
2018-10-24T04:58:47.256Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:58:47.259Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:58:47.259Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:58:47.405Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:58:48.485Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1fa8a4f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:58:49.355Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:58:49.376Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:58:49.394Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:58:49.395Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:58:49.412Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:58:49.523Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:58:49.523Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3353 ms
2018-10-24T04:58:49.937Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:58:50.250Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:58:50.251Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:58:50.251Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:58:50.251Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:58:50.252Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:58:50.252Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:58:50.252Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:58:50.252Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:58:50.549Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:58:50.563Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:58:50.676Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:58:50.685Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:58:50.808Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.064s)
2018-10-24T04:58:50.832Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:58:50.833Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:58:50.999Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:58:51.122Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:58:51.124Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:58:51.183Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:58:51.522Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:58:51.644Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:58:51.646Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@32232e55
2018-10-24T04:58:51.862Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:58:51.865Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:58:52.579Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:58:53.698Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:58:56.223Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:58:56.226Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:58:56.227Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:58:56.236Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:58:56.238Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:58:56.257Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:58:56.260Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:59:07.067Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6089 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:59:07.074Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:59:07.204Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5afa04c: startup date [Wed Oct 24 04:59:07 UTC 2018]; root of context hierarchy
2018-10-24T04:59:08.310Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:59:08.313Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:59:08.313Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:59:08.453Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:59:09.528Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64fa44bc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:59:10.330Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:59:10.355Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:59:10.372Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:59:10.373Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:59:10.389Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:59:10.498Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:59:10.499Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3298 ms
2018-10-24T04:59:10.929Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:59:11.137Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:59:11.138Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:59:11.138Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:59:11.138Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:59:11.139Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:59:11.139Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:59:11.139Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:59:11.139Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:59:11.371Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:59:11.382Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:59:11.485Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:59:11.494Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:59:11.609Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.058s)
2018-10-24T04:59:11.625Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:59:11.626Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:59:11.794Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:59:11.917Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:59:11.920Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:59:11.977Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:59:12.311Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:59:12.443Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:59:12.445Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6e9319f
2018-10-24T04:59:12.657Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:59:12.660Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:59:13.388Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:59:14.473Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:59:17.029Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:59:17.033Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:59:17.034Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:59:17.044Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:59:17.046Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:59:17.065Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:59:17.067Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:59:28.143Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6156 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:59:28.150Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:59:28.265Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@737996a0: startup date [Wed Oct 24 04:59:28 UTC 2018]; root of context hierarchy
2018-10-24T04:59:29.306Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:59:29.308Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:59:29.309Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:59:29.458Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:59:30.546Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4febe7b1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:59:31.340Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:59:31.363Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:59:31.383Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:59:31.384Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:59:31.404Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:59:31.511Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:59:31.511Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3250 ms
2018-10-24T04:59:31.928Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:59:32.130Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:59:32.131Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:59:32.131Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:59:32.131Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:59:32.131Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:59:32.131Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:59:32.132Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:59:32.132Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:59:32.371Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:59:32.382Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:59:32.491Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:59:32.500Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:59:32.641Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.078s)
2018-10-24T04:59:32.661Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:59:32.662Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:59:32.834Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:59:32.963Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:59:32.965Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:59:33.026Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:59:33.360Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:59:33.483Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:59:33.486Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1cb3ec38
2018-10-24T04:59:33.697Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:59:33.700Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:59:34.402Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:59:35.515Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:59:37.928Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:59:37.932Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:59:37.933Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:59:37.943Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:59:37.947Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:59:38.004Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:59:38.007Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T04:59:49.270Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6224 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T04:59:49.278Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T04:59:49.358Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2c9f9fb0: startup date [Wed Oct 24 04:59:49 UTC 2018]; root of context hierarchy
2018-10-24T04:59:50.475Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T04:59:50.477Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:59:50.477Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T04:59:50.614Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T04:59:51.684Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a013e4d0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T04:59:52.481Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T04:59:52.501Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T04:59:52.518Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T04:59:52.519Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T04:59:52.536Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T04:59:52.634Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T04:59:52.635Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3280 ms
2018-10-24T04:59:53.050Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T04:59:53.261Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T04:59:53.261Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T04:59:53.261Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T04:59:53.262Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T04:59:53.262Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T04:59:53.262Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T04:59:53.262Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T04:59:53.262Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T04:59:53.530Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T04:59:53.541Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T04:59:53.649Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T04:59:53.658Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T04:59:53.780Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.062s)
2018-10-24T04:59:53.798Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T04:59:53.802Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T04:59:53.974Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T04:59:54.104Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T04:59:54.106Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T04:59:54.169Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T04:59:54.524Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T04:59:54.692Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T04:59:54.694Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7f69d591
2018-10-24T04:59:54.933Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:59:54.941Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T04:59:55.648Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:59:56.689Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T04:59:59.187Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T04:59:59.190Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T04:59:59.191Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T04:59:59.231Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T04:59:59.234Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T04:59:59.252Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T04:59:59.254Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:00:10.435Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6305 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:00:10.443Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:00:10.511Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a024a67: startup date [Wed Oct 24 05:00:10 UTC 2018]; root of context hierarchy
2018-10-24T05:00:11.583Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:00:11.585Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:00:11.586Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:00:11.724Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:00:12.792Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$312be29b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:00:13.639Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:00:13.660Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:00:13.677Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:00:13.678Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:00:13.696Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:00:13.804Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:00:13.804Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3297 ms
2018-10-24T05:00:14.254Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:00:14.458Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:00:14.459Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:00:14.459Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:00:14.459Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:00:14.459Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:00:14.459Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:00:14.459Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:00:14.460Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:00:14.687Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:00:14.698Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:00:14.805Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:00:14.814Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:00:14.919Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.047s)
2018-10-24T05:00:14.947Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:00:14.949Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:00:15.120Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:00:15.248Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:00:15.251Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:00:15.310Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:00:15.656Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:00:15.779Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:00:15.780Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@72e34f77
2018-10-24T05:00:15.999Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:00:16.002Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:00:16.743Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:00:17.840Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:00:20.280Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:00:20.284Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:00:20.284Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:00:20.326Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:00:20.328Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:00:20.367Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:00:20.369Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:00:31.585Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6373 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:00:31.593Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:00:31.664Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c09711b: startup date [Wed Oct 24 05:00:31 UTC 2018]; root of context hierarchy
2018-10-24T05:00:32.798Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:00:32.801Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:00:32.801Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:00:32.941Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:00:34.056Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3ad78d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:00:34.882Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:00:34.902Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:00:34.920Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:00:34.921Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:00:34.937Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:00:35.036Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:00:35.036Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3375 ms
2018-10-24T05:00:35.465Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:00:35.677Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:00:35.678Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:00:35.678Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:00:35.678Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:00:35.678Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:00:35.678Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:00:35.679Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:00:35.679Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:00:35.914Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:00:35.925Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:00:36.029Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:00:36.038Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:00:36.145Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T05:00:36.167Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:00:36.169Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:00:36.345Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:00:36.477Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:00:36.479Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:00:36.539Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:00:36.909Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:00:37.041Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:00:37.043Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3c9168dc
2018-10-24T05:00:37.263Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:00:37.266Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:00:37.992Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:00:39.130Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:00:41.568Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:00:41.571Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:00:41.572Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:00:41.582Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:00:41.584Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:00:41.610Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:00:41.612Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:00:52.658Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6439 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:00:52.665Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:00:52.731Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@153f5a29: startup date [Wed Oct 24 05:00:52 UTC 2018]; root of context hierarchy
2018-10-24T05:00:53.932Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:00:53.934Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:00:53.935Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:00:54.073Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:00:55.174Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6d7f6bb2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:00:55.979Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:00:55.998Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:00:56.036Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:00:56.037Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:00:56.052Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:00:56.149Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:00:56.149Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3421 ms
2018-10-24T05:00:56.584Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:00:56.785Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:00:56.785Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:00:56.786Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:00:56.786Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:00:56.786Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:00:56.786Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:00:56.786Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:00:56.786Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:00:57.010Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:00:57.021Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:00:57.125Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:00:57.134Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:00:57.250Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.058s)
2018-10-24T05:00:57.269Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:00:57.269Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:00:57.437Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:00:57.564Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:00:57.566Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:00:57.625Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:00:57.972Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:00:58.100Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:00:58.102Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@285d851a
2018-10-24T05:00:58.328Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:00:58.332Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:00:59.053Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:01:00.127Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:01:02.557Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:01:02.561Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:01:02.562Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:01:02.571Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:01:02.574Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:01:02.599Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:01:02.601Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:01:13.841Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6505 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:01:13.849Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:01:13.968Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7946e1f4: startup date [Wed Oct 24 05:01:13 UTC 2018]; root of context hierarchy
2018-10-24T05:01:15.012Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:01:15.014Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:01:15.015Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:01:15.157Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:01:16.237Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$566ccff9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:01:17.032Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:01:17.055Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:01:17.073Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:01:17.074Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:01:17.090Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:01:17.188Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:01:17.188Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3224 ms
2018-10-24T05:01:17.608Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:01:17.834Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:01:17.834Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:01:17.835Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:01:17.835Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:01:17.835Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:01:17.836Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:01:17.836Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:01:17.836Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:01:18.061Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:01:18.072Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:01:18.176Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:01:18.185Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:01:18.298Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T05:01:18.317Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:01:18.318Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:01:18.491Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:01:18.621Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:01:18.624Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:01:18.689Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:01:19.041Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:01:19.204Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:01:19.206Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@72f46e16
2018-10-24T05:01:19.435Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:01:19.439Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:01:20.164Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:01:21.256Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:01:23.729Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:01:23.735Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:01:23.735Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:01:23.750Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:01:23.752Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:01:23.771Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:01:23.773Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:01:34.885Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6573 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:01:34.892Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:01:35.006Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c09711b: startup date [Wed Oct 24 05:01:35 UTC 2018]; root of context hierarchy
2018-10-24T05:01:36.003Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:01:36.005Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:01:36.006Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:01:36.149Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:01:37.228Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3ad78d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:01:38.002Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:01:38.021Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:01:38.038Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:01:38.039Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:01:38.055Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:01:38.203Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:01:38.204Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3201 ms
2018-10-24T05:01:38.612Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:01:38.815Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:01:38.816Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:01:38.816Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:01:38.816Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:01:38.817Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:01:38.817Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:01:38.817Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:01:38.817Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:01:39.037Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:01:39.047Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:01:39.148Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:01:39.157Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:01:39.269Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.056s)
2018-10-24T05:01:39.349Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:01:39.350Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:01:39.516Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:01:39.643Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:01:39.645Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:01:39.704Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:01:40.037Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:01:40.159Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:01:40.160Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3c9168dc
2018-10-24T05:01:40.375Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:01:40.378Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:01:41.073Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:01:42.192Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:01:44.637Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:01:44.640Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:01:44.641Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:01:44.648Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:01:44.651Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:01:44.669Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:01:44.671Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:01:56.072Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6639 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:01:56.080Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:01:56.220Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7225790e: startup date [Wed Oct 24 05:01:56 UTC 2018]; root of context hierarchy
2018-10-24T05:01:57.267Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:01:57.269Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:01:57.270Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:01:57.402Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:01:58.472Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e8248b96] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:01:59.363Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:01:59.384Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:01:59.400Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:01:59.401Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:01:59.418Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:01:59.536Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:01:59.536Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3319 ms
2018-10-24T05:01:59.960Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:02:00.165Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:02:00.166Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:02:00.166Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:02:00.166Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:02:00.167Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:02:00.167Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:02:00.167Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:02:00.167Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:02:00.399Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:02:00.410Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:02:00.525Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:02:00.534Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:02:00.644Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T05:02:00.660Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:02:00.661Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:02:00.833Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:02:00.958Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:02:00.961Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:02:01.019Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:02:01.354Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:02:01.478Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:02:01.480Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6d8792db
2018-10-24T05:02:01.692Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:02:01.695Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:02:02.398Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:02:03.504Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:02:06.229Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:02:06.233Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:02:06.234Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:02:06.243Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:02:06.246Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:02:06.264Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:02:06.266Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:02:17.194Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6706 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:02:17.201Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:02:17.269Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6ea12c19: startup date [Wed Oct 24 05:02:17 UTC 2018]; root of context hierarchy
2018-10-24T05:02:18.436Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:02:18.438Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:02:18.439Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:02:18.579Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:02:19.677Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64fa44bc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:02:20.492Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:02:20.512Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:02:20.532Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:02:20.533Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:02:20.556Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:02:20.667Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:02:20.667Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3401 ms
2018-10-24T05:02:21.080Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:02:21.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:02:21.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:02:21.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:02:21.284Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:02:21.285Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:02:21.285Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:02:21.285Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:02:21.285Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:02:21.508Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:02:21.519Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:02:21.625Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:02:21.634Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:02:21.740Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T05:02:21.766Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:02:21.769Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:02:21.947Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:02:22.076Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:02:22.079Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:02:22.139Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:02:22.491Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:02:22.614Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:02:22.616Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7bf9b098
2018-10-24T05:02:22.837Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:02:22.840Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:02:23.550Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:02:24.669Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:02:27.086Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:02:27.089Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:02:27.090Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:02:27.098Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:02:27.101Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:02:27.126Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:02:27.128Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:02:38.390Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6774 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:02:38.398Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:02:38.468Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7921b0a2: startup date [Wed Oct 24 05:02:38 UTC 2018]; root of context hierarchy
2018-10-24T05:02:39.594Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:02:39.597Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:02:39.597Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:02:39.729Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:02:40.810Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9d0d1837] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:02:41.625Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:02:41.646Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:02:41.662Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:02:41.663Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:02:41.679Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:02:41.787Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:02:41.787Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3323 ms
2018-10-24T05:02:42.222Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:02:42.422Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:02:42.423Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:02:42.514Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:02:42.514Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:02:42.514Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:02:42.515Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:02:42.515Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:02:42.515Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:02:42.740Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:02:42.751Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:02:42.857Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:02:42.867Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:02:42.982Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.056s)
2018-10-24T05:02:43.003Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:02:43.003Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:02:43.179Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:02:43.310Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:02:43.312Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:02:43.373Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:02:43.712Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:02:43.836Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:02:43.837Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@77307458
2018-10-24T05:02:44.042Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:02:44.045Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:02:44.746Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:02:45.844Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:02:48.210Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:02:48.213Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:02:48.214Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:02:48.227Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:02:48.229Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:02:48.247Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:02:48.249Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:02:59.487Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6840 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:02:59.495Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:02:59.568Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@9f70c54: startup date [Wed Oct 24 05:02:59 UTC 2018]; root of context hierarchy
2018-10-24T05:03:00.824Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:03:00.827Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:03:00.828Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:03:00.969Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:03:02.080Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a013e4d0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:03:02.883Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:03:02.904Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:03:02.921Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:03:02.922Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:03:02.938Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:03:03.049Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:03:03.049Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3484 ms
2018-10-24T05:03:03.495Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:03:03.700Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:03:03.701Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:03:03.701Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:03:03.701Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:03:03.701Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:03:03.701Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:03:03.702Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:03:03.702Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:03:03.932Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:03:03.943Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:03:04.052Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:03:04.062Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:03:04.175Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T05:03:04.195Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:03:04.197Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:03:04.368Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:03:04.496Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:03:04.498Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:03:04.557Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:03:04.944Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:03:05.079Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:03:05.080Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1cb3ec38
2018-10-24T05:03:05.304Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:03:05.307Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:03:06.025Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:03:07.108Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:03:09.550Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:03:09.553Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:03:09.554Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:03:09.568Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:03:09.572Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:03:09.590Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:03:09.592Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:03:20.616Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6907 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:03:20.623Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:03:20.739Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@48eff760: startup date [Wed Oct 24 05:03:20 UTC 2018]; root of context hierarchy
2018-10-24T05:03:21.806Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:03:21.808Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:03:21.809Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:03:21.952Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:03:23.024Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$67391f78] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:03:23.795Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:03:23.814Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:03:23.830Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:03:23.831Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:03:23.847Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:03:23.947Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:03:23.948Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3212 ms
2018-10-24T05:03:24.352Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:03:24.563Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:03:24.563Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:03:24.563Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:03:24.563Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:03:24.564Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:03:24.564Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:03:24.564Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:03:24.564Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:03:24.798Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:03:24.810Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:03:24.918Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:03:24.931Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:03:25.070Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.067s)
2018-10-24T05:03:25.089Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:03:25.090Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:03:25.263Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:03:25.390Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:03:25.392Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:03:25.450Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:03:25.837Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:03:26.019Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:03:26.021Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@209775a9
2018-10-24T05:03:26.240Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:03:26.243Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:03:26.940Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:03:28.026Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:03:30.423Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:03:30.428Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:03:30.428Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:03:30.436Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:03:30.438Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:03:30.456Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:03:30.459Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:03:41.739Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 6975 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:03:41.746Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:03:41.866Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6574b225: startup date [Wed Oct 24 05:03:41 UTC 2018]; root of context hierarchy
2018-10-24T05:03:42.978Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:03:42.981Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:03:42.995Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:03:43.136Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:03:44.219Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1fa8a4f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:03:45.039Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:03:45.060Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:03:45.077Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:03:45.078Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:03:45.094Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:03:45.215Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:03:45.215Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3352 ms
2018-10-24T05:03:45.635Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:03:45.855Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:03:45.856Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:03:45.856Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:03:45.856Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:03:45.857Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:03:45.857Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:03:45.857Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:03:45.857Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:03:46.090Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:03:46.101Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:03:46.208Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:03:46.217Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:03:46.328Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T05:03:46.354Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:03:46.355Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:03:46.528Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:03:46.652Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:03:46.654Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:03:46.712Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:03:47.056Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:03:47.190Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:03:47.192Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@37ebc9d8
2018-10-24T05:03:47.413Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:03:47.416Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:03:48.141Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:03:49.284Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:03:51.819Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:03:51.822Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:03:51.823Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:03:51.835Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:03:51.837Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:03:51.857Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:03:51.859Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:04:02.927Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7042 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:04:02.935Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:04:03.065Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6276ae34: startup date [Wed Oct 24 05:04:03 UTC 2018]; root of context hierarchy
2018-10-24T05:04:04.168Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:04:04.170Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:04:04.171Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:04:04.307Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:04:05.420Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3ad78d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:04:06.271Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:04:06.290Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:04:06.307Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:04:06.309Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:04:06.325Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:04:06.454Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:04:06.454Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3393 ms
2018-10-24T05:04:06.891Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:04:07.098Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:04:07.099Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:04:07.099Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:04:07.099Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:04:07.099Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:04:07.100Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:04:07.100Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:04:07.100Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:04:07.322Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:04:07.333Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:04:07.441Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:04:07.450Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:04:07.567Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T05:04:07.596Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:04:07.597Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:04:07.767Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:04:07.896Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:04:07.898Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:04:07.956Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:04:08.294Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:04:08.429Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:04:08.431Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4985cbcb
2018-10-24T05:04:08.642Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:04:08.645Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:04:09.369Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:04:10.482Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:04:12.942Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:04:12.945Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:04:12.946Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:04:12.959Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:04:12.961Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:04:12.980Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:04:12.982Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:04:24.041Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7108 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:04:24.050Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:04:24.197Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@337d0578: startup date [Wed Oct 24 05:04:24 UTC 2018]; root of context hierarchy
2018-10-24T05:04:25.241Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:04:25.244Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:04:25.244Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:04:25.380Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:04:26.441Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$46d90ddb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:04:27.203Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:04:27.222Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:04:27.240Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:04:27.241Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:04:27.256Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:04:27.352Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:04:27.352Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3158 ms
2018-10-24T05:04:27.790Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:04:28.001Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:04:28.001Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:04:28.001Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:04:28.001Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:04:28.002Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:04:28.002Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:04:28.002Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:04:28.002Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:04:28.228Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:04:28.238Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:04:28.339Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:04:28.348Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:04:28.455Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.049s)
2018-10-24T05:04:28.473Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:04:28.475Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:04:28.651Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:04:28.777Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:04:28.779Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:04:28.837Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:04:29.181Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:04:29.323Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:04:29.324Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7876d598
2018-10-24T05:04:29.535Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:04:29.538Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:04:30.221Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:04:31.322Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:04:33.850Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:04:33.853Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:04:33.854Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:04:33.899Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:04:33.902Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:04:33.923Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:04:33.926Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:04:45.105Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7176 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:04:45.112Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:04:45.232Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4590c9c3: startup date [Wed Oct 24 05:04:45 UTC 2018]; root of context hierarchy
2018-10-24T05:04:46.345Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:04:46.347Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:04:46.348Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:04:46.478Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:04:47.505Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$46018fd9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:04:48.398Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:04:48.419Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:04:48.436Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:04:48.437Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:04:48.454Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:04:48.563Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:04:48.563Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3367 ms
2018-10-24T05:04:48.990Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:04:49.199Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:04:49.199Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:04:49.200Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:04:49.200Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:04:49.200Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:04:49.200Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:04:49.200Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:04:49.201Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:04:49.439Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:04:49.450Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:04:49.562Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:04:49.572Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:04:49.687Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T05:04:49.706Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:04:49.709Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:04:49.881Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:04:50.010Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:04:50.012Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:04:50.072Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:04:50.429Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:04:50.561Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:04:50.563Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@54361a9
2018-10-24T05:04:50.782Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:04:50.786Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:04:51.486Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:04:52.596Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:04:55.152Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:04:55.155Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:04:55.156Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:04:55.191Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:04:55.194Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:04:55.218Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:04:55.220Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:05:06.300Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7247 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:05:06.307Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:05:06.425Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12843fce: startup date [Wed Oct 24 05:05:06 UTC 2018]; root of context hierarchy
2018-10-24T05:05:07.448Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:05:07.450Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:05:07.451Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:05:07.595Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:05:08.686Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c8e8b90a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:05:09.516Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:05:09.537Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:05:09.555Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:05:09.556Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:05:09.574Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:05:09.681Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:05:09.682Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3260 ms
2018-10-24T05:05:10.107Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:05:10.432Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:05:10.432Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:05:10.432Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:05:10.432Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:05:10.433Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:05:10.433Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:05:10.433Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:05:10.433Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:05:10.709Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:05:10.720Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:05:10.832Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:05:10.841Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:05:10.955Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.050s)
2018-10-24T05:05:10.975Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:05:10.976Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:05:11.153Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:05:11.283Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:05:11.286Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:05:11.346Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:05:11.708Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:05:11.827Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:05:11.829Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3a1d593e
2018-10-24T05:05:12.042Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:05:12.045Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:05:12.737Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:05:13.872Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:05:16.561Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:05:16.564Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:05:16.565Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:05:16.574Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:05:16.576Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:05:16.599Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:05:16.601Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:05:27.387Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7315 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:05:27.394Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:05:27.466Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5a61f5df: startup date [Wed Oct 24 05:05:27 UTC 2018]; root of context hierarchy
2018-10-24T05:05:28.496Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:05:28.498Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:05:28.498Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:05:28.636Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:05:29.746Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$58a7f88f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:05:30.586Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:05:30.607Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:05:30.623Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:05:30.624Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:05:30.640Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:05:30.748Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:05:30.748Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3285 ms
2018-10-24T05:05:31.166Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:05:31.373Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:05:31.374Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:05:31.374Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:05:31.374Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:05:31.374Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:05:31.375Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:05:31.375Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:05:31.375Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:05:31.605Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:05:31.617Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:05:31.727Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:05:31.736Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:05:31.889Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.086s)
2018-10-24T05:05:31.910Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:05:31.911Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:05:32.081Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:05:32.204Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:05:32.206Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:05:32.262Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:05:32.601Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:05:32.718Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:05:32.720Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@ce5a68e
2018-10-24T05:05:32.930Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:05:32.933Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:05:33.631Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:05:34.706Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:05:37.220Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:05:37.223Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:05:37.224Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:05:37.233Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:05:37.235Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:05:37.254Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:05:37.256Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:05:48.537Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7383 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:05:48.545Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:05:48.690Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2344fc66: startup date [Wed Oct 24 05:05:48 UTC 2018]; root of context hierarchy
2018-10-24T05:05:49.760Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:05:49.762Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:05:49.763Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:05:49.915Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:05:51.031Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea2451b7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:05:51.874Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:05:51.894Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:05:51.911Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:05:51.912Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:05:51.930Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:05:52.043Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:05:52.043Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3356 ms
2018-10-24T05:05:52.515Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:05:52.737Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:05:52.738Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:05:52.738Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:05:52.738Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:05:52.738Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:05:52.738Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:05:52.739Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:05:52.739Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:05:52.989Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:05:53.000Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:05:53.107Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:05:53.117Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:05:53.231Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T05:05:53.250Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:05:53.251Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:05:53.428Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:05:53.561Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:05:53.563Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:05:53.625Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:05:53.970Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:05:54.114Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:05:54.116Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6fa590ba
2018-10-24T05:05:54.336Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:05:54.339Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:05:55.067Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:05:56.197Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:05:58.639Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:05:58.642Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:05:58.643Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:05:58.654Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:05:58.656Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:05:58.676Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:05:58.678Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:06:09.798Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7449 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:06:09.849Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:06:09.936Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2669b199: startup date [Wed Oct 24 05:06:09 UTC 2018]; root of context hierarchy
2018-10-24T05:06:10.994Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:06:10.996Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:06:10.997Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:06:11.147Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:06:12.253Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea2451b7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:06:13.042Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:06:13.063Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:06:13.081Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:06:13.082Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:06:13.101Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:06:13.210Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:06:13.210Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3278 ms
2018-10-24T05:06:13.631Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:06:13.859Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:06:13.859Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:06:13.859Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:06:13.860Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:06:13.860Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:06:13.860Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:06:13.860Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:06:13.860Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:06:14.134Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:06:14.146Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:06:14.253Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:06:14.262Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:06:14.380Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.058s)
2018-10-24T05:06:14.401Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:06:14.401Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:06:14.587Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:06:14.715Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:06:14.718Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:06:14.780Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:06:15.153Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:06:15.288Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:06:15.290Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6fa590ba
2018-10-24T05:06:15.513Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:06:15.520Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:06:16.249Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:06:17.376Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:06:19.850Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:06:19.856Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:06:19.857Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:06:19.866Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:06:19.869Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:06:19.889Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:06:19.891Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:06:30.764Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7517 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:06:30.775Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:06:30.896Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@337d0578: startup date [Wed Oct 24 05:06:30 UTC 2018]; root of context hierarchy
2018-10-24T05:06:32.007Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:06:32.010Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:06:32.010Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:06:32.160Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:06:33.230Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc4702ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:06:33.995Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:06:34.016Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:06:34.033Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:06:34.034Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:06:34.050Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:06:34.151Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:06:34.152Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3259 ms
2018-10-24T05:06:34.581Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:06:34.812Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:06:34.813Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:06:34.813Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:06:34.813Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:06:34.814Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:06:34.814Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:06:34.814Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:06:34.814Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:06:35.063Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:06:35.075Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:06:35.185Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:06:35.195Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:06:35.303Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T05:06:35.325Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:06:35.326Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:06:35.509Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:06:35.643Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:06:35.646Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:06:35.707Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:06:36.090Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:06:36.223Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:06:36.225Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7876d598
2018-10-24T05:06:36.443Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:06:36.447Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:06:37.134Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:06:38.176Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:06:40.663Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:06:40.667Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:06:40.668Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:06:40.711Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:06:40.713Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:06:40.732Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:06:40.734Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:06:52.026Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7583 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:06:52.035Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:06:52.183Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@458ad742: startup date [Wed Oct 24 05:06:52 UTC 2018]; root of context hierarchy
2018-10-24T05:06:53.290Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:06:53.292Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:06:53.293Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:06:53.432Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:06:54.534Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea2451b7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:06:55.316Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:06:55.336Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:06:55.353Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:06:55.354Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:06:55.370Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:06:55.494Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:06:55.494Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3314 ms
2018-10-24T05:06:55.901Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:06:56.143Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:06:56.143Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:06:56.143Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:06:56.143Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:06:56.144Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:06:56.144Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:06:56.144Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:06:56.144Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:06:56.380Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:06:56.390Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:06:56.498Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:06:56.507Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:06:56.621Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.053s)
2018-10-24T05:06:56.639Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:06:56.640Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:06:56.802Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:06:56.930Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:06:56.932Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:06:56.988Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:06:57.332Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:06:57.463Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:06:57.464Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6fa590ba
2018-10-24T05:06:57.684Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:06:57.688Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:06:58.415Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:06:59.552Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:07:01.963Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:07:01.967Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:07:01.967Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:07:01.975Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:07:01.978Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:07:01.996Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:07:01.998Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:07:13.016Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7649 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:07:13.023Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:07:13.132Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@26f67b76: startup date [Wed Oct 24 05:07:13 UTC 2018]; root of context hierarchy
2018-10-24T05:07:14.116Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:07:14.119Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:07:14.119Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:07:14.264Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:07:15.338Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6d7f6bb2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:07:16.150Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:07:16.170Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:07:16.187Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:07:16.188Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:07:16.205Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:07:16.321Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:07:16.321Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3192 ms
2018-10-24T05:07:16.755Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:07:16.959Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:07:16.960Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:07:16.960Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:07:16.960Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:07:16.960Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:07:16.961Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:07:16.961Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:07:16.961Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:07:17.194Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:07:17.204Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:07:17.310Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:07:17.320Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:07:17.428Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.048s)
2018-10-24T05:07:17.449Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:07:17.455Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:07:17.637Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:07:17.768Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:07:17.770Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:07:17.831Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:07:18.168Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:07:18.294Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:07:18.296Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@285d851a
2018-10-24T05:07:18.515Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:07:18.518Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:07:19.222Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:07:20.276Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:07:22.928Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:07:22.931Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:07:22.932Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:07:22.977Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:07:22.979Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:07:23.005Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:07:23.008Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:07:34.204Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7717 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:07:34.212Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:07:34.291Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2cb4c3ab: startup date [Wed Oct 24 05:07:34 UTC 2018]; root of context hierarchy
2018-10-24T05:07:35.410Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:07:35.412Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:07:35.413Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:07:35.550Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:07:36.653Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2aede8aa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:07:37.457Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:07:37.479Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:07:37.504Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:07:37.505Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:07:37.523Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:07:37.633Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:07:37.634Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3346 ms
2018-10-24T05:07:38.081Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:07:38.404Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:07:38.405Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:07:38.405Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:07:38.405Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:07:38.405Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:07:38.406Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:07:38.406Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:07:38.406Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:07:38.738Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:07:38.752Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:07:38.872Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:07:38.882Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:07:38.995Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.052s)
2018-10-24T05:07:39.018Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:07:39.019Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:07:39.204Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:07:39.337Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:07:39.340Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:07:39.401Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:07:39.758Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:07:39.890Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:07:39.892Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@669513d8
2018-10-24T05:07:40.116Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:07:40.119Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:07:40.857Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:07:41.947Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:07:44.370Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:07:44.374Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:07:44.375Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:07:44.383Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:07:44.385Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:07:44.404Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:07:44.406Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:07:55.325Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7825 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:07:55.333Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:07:55.449Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@39fb3ab6: startup date [Wed Oct 24 05:07:55 UTC 2018]; root of context hierarchy
2018-10-24T05:07:56.618Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:07:56.620Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:07:56.621Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:07:56.761Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:07:57.842Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$24a377ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:07:58.651Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:07:58.672Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:07:58.692Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:07:58.693Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:07:58.710Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:07:58.814Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:07:58.815Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3371 ms
2018-10-24T05:07:59.243Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:07:59.453Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:07:59.453Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:07:59.453Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:07:59.453Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:07:59.454Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:07:59.454Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:07:59.454Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:07:59.454Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:07:59.692Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:07:59.703Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:07:59.813Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:07:59.822Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:07:59.935Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.051s)
2018-10-24T05:07:59.958Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:07:59.961Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:08:00.139Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:08:00.268Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:08:00.270Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:08:00.329Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:08:00.674Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:08:00.797Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:08:00.799Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4985cbcb
2018-10-24T05:08:01.009Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:08:01.012Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:08:01.716Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:08:02.816Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:08:05.357Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:08:05.362Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:08:05.363Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:08:05.377Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:08:05.380Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:08:05.397Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:08:05.399Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
2018-10-24T05:08:16.482Z [main] ....  INFO --- CredentialManagerApp: Starting CredentialManagerApp on localhost with PID 7892 (/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar started by vcap in /var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9)
2018-10-24T05:08:16.491Z [main] ....  INFO --- CredentialManagerApp: The following profiles are active: prod
2018-10-24T05:08:16.617Z [main] ....  INFO --- AnnotationConfigServletWebServerApplicationContext: Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2344fc66: startup date [Wed Oct 24 05:08:16 UTC 2018]; root of context hierarchy
2018-10-24T05:08:17.660Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'authenticationManagerBuilder' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=authenticationManagerBuilder; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]]
2018-10-24T05:08:17.662Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'jsonContextFactory' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.config.JsonContextFactory]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/config/JsonContextFactory.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=jsonContextFactory; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:08:17.663Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'currentTimeProvider' with a different definition: replacing [Generic bean: class [org.cloudfoundry.credhub.util.CurrentTimeProvider]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/util/CurrentTimeProvider.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=credentialManagerApp; factoryMethodName=currentTimeProvider; initMethodName=null; destroyMethodName=(inferred); defined in org.cloudfoundry.credhub.CredentialManagerApp]
2018-10-24T05:08:17.799Z [main] ....  INFO --- DefaultListableBeanFactory: Overriding bean definition for bean 'resourceServerProperties' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2Configuration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/cloudfoundry/credhub/config/OAuth2Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration; factoryMethodName=resourceServerProperties; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfiguration.class]]
2018-10-24T05:08:18.845Z [main] ....  INFO --- PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$37d57735] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-10-24T05:08:19.718Z [main] ....  INFO --- TomcatWebServer: Tomcat initialized with port(s): 8844 (https)
2018-10-24T05:08:19.739Z [main] ....  INFO --- Http11NioProtocol: Initializing ProtocolHandler ["https-jsse-nio-8844"]
2018-10-24T05:08:19.755Z [main] ....  INFO --- StandardService: Starting service [Tomcat]
2018-10-24T05:08:19.756Z [main] ....  INFO --- StandardEngine: Starting Servlet Engine: Apache Tomcat/8.5.32
2018-10-24T05:08:19.772Z [localhost-startStop-1] ....  INFO --- AprLifecycleListener: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2018-10-24T05:08:19.875Z [localhost-startStop-1] ....  INFO --- [/]: Initializing Spring embedded WebApplicationContext
2018-10-24T05:08:19.875Z [localhost-startStop-1] ....  INFO --- ContextLoader: Root WebApplicationContext: initialization completed in 3264 ms
2018-10-24T05:08:20.286Z [localhost-startStop-1] ....  WARN --- JwtAccessTokenConverter: Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-10-24T05:08:20.492Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'characterEncodingFilter' to: [/*]
2018-10-24T05:08:20.492Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-10-24T05:08:20.492Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-10-24T05:08:20.492Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'requestContextFilter' to: [/*]
2018-10-24T05:08:20.493Z [localhost-startStop-1] ....  INFO --- DelegatingFilterProxyRegistrationBean: Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-10-24T05:08:20.493Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'preAuthenticationFailureFilter' to: [/*]
2018-10-24T05:08:20.493Z [localhost-startStop-1] ....  INFO --- FilterRegistrationBean: Mapping filter: 'OAuth2ExtraValidationFilter' to: [/*]
2018-10-24T05:08:20.493Z [localhost-startStop-1] ....  INFO --- ServletRegistrationBean: Servlet dispatcherServlet mapped to [/]
2018-10-24T05:08:20.755Z [main] ....  INFO --- VersionPrinter: Flyway Community Edition 5.0.7 by Boxfuse
2018-10-24T05:08:20.766Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Starting...
2018-10-24T05:08:20.878Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Start completed.
2018-10-24T05:08:20.887Z [main] ....  INFO --- DatabaseFactory: Database: jdbc:postgresql://127.0.0.1:5432/credhub (PostgreSQL 9.4)
2018-10-24T05:08:21.037Z [main] ....  INFO --- DbValidate: Successfully validated 66 migrations (execution time 00:00.086s)
2018-10-24T05:08:21.055Z [main] ....  INFO --- DbMigrate: Current version of schema "public": 49
2018-10-24T05:08:21.055Z [main] ....  INFO --- DbMigrate: Schema "public" is up to date. No migration necessary.
2018-10-24T05:08:21.227Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-24T05:08:21.356Z [main] ....  INFO --- Version: HHH000412: Hibernate Core {5.2.17.Final}
2018-10-24T05:08:21.359Z [main] ....  INFO --- Environment: HHH000206: hibernate.properties not found
2018-10-24T05:08:21.419Z [main] ....  INFO --- Version: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-10-24T05:08:21.773Z [main] ....  INFO --- Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2018-10-24T05:08:21.919Z [main] ....  INFO --- LobCreatorBuilderImpl: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2018-10-24T05:08:21.922Z [main] ....  INFO --- BasicTypeRegistry: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6fa590ba
2018-10-24T05:08:22.135Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:08:22.139Z [main] ....  WARN --- InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name uuid2
2018-10-24T05:08:22.841Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:08:23.917Z [main] ....  INFO --- QueryTranslatorFactoryInitiator: HHH000397: Using ASTQueryTranslatorFactory
2018-10-24T05:08:26.600Z [main] ....  WARN --- AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
2018-10-24T05:08:26.603Z [main] ....  INFO --- LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-24T05:08:26.604Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown initiated...
2018-10-24T05:08:26.614Z [main] ....  INFO --- HikariDataSource: HikariPool-1 - Shutdown completed.
2018-10-24T05:08:26.617Z [main] ....  INFO --- StandardService: Stopping service [Tomcat]
2018-10-24T05:08:26.638Z [main] ....  INFO --- ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-10-24T05:08:26.640Z [main] .... ERROR --- SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncEncryptionKeyRotationScheduler' defined in URL [jar:file:/var/vcap/data/packages/credhub/68f1903b90fc0d607043c4b47416bda7dda6e1e9/credhub.jar!/BOOT-INF/classes!/org/cloudfoundry/credhub/service/AsyncEncryptionKeyRotationScheduler.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:282) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar!/:2.0.4.RELEASE]
	at org.cloudfoundry.credhub.CredentialManagerApp.main(CredentialManagerApp.java:29) [classes!/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [credhub.jar:?]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [credhub.jar:?]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [credhub.jar:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler]: Constructor threw exception; nested exception is java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:182) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
Caused by: java.lang.RuntimeException: The encryption keys provided cannot decrypt any of the 24 value(s) in the database. Please make sure you've provided the necessary encryption keys.
	at org.cloudfoundry.credhub.service.DecryptableDataDetector.check(DecryptableDataDetector.java:27) ~[classes!/:?]
	at org.cloudfoundry.credhub.service.AsyncEncryptionKeyRotationScheduler.<init>(AsyncEncryptionKeyRotationScheduler.java:25) ~[classes!/:?]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_181]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_181]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:170) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275) ~[spring-beans-5.0.8.RELEASE.jar!/:5.0.8.RELEASE]
	... 26 more
